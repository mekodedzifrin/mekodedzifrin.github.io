!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t,n){var r;r=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=9)}([function(e,t,n){e.exports=n(13)},function(e,t){e.exports=!1},function(e,t){function n(e,t,n,r,o,i,a){try{var s=e[i](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,o)}e.exports=function(e){return function(){var t=this,r=arguments;return new Promise(function(o,i){var a=e.apply(t,r);function s(e){n(a,o,i,s,u,"next",e)}function u(e){n(a,o,i,s,u,"throw",e)}s(void 0)})}}},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}},function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(t){return"function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?e.exports=r=function(e){return n(e)}:e.exports=r=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)},r(t)}e.exports=r},function(e,t,n){var r=n(10),o=n(11),i=n(12);e.exports=function(e,t){return r(e)||o(e,t)||i()}},function(e,t,n){e.exports=function(){return new Worker(n.p+"2380cfa0e562e148fa50.worker.js")}},function(e,t,n){var r=n(15),o=n(16);e.exports=function(e,t,n){var i=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[i+s]=a[s];return t||o(a)}},function(e,t,n){e.exports=n(17)},function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},function(e,t){e.exports=function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(e,t,n){var r=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(e,t,n,r){var o=t&&t.prototype instanceof g?t:g,i=Object.create(o.prototype),a=new T(r||[]);return i._invoke=function(e,t,n){var r=l;return function(o,i){if(r===d)throw new Error("Generator is already running");if(r===h){if("throw"===o)throw i;return x()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=w(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===l)throw r=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var u=c(e,t,n);if("normal"===u.type){if(r=n.done?h:p,u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=h,n.method="throw",n.arg=u.arg)}}}(e,n,a),i}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var l="suspendedStart",p="suspendedYield",d="executing",h="completed",f={};function g(){}function m(){}function y(){}var v={};v[i]=function(){return this};var b=Object.getPrototypeOf,S=b&&b(b(A([])));S&&S!==n&&r.call(S,i)&&(v=S);var k=y.prototype=g.prototype=Object.create(v);function C(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function P(e){var t;this._invoke=function(n,o){function i(){return new Promise(function(t,i){!function t(n,o,i,a){var s=c(e[n],e,o);if("throw"!==s.type){var u=s.arg,l=u.value;return l&&"object"==typeof l&&r.call(l,"__await")?Promise.resolve(l.__await).then(function(e){t("next",e,i,a)},function(e){t("throw",e,i,a)}):Promise.resolve(l).then(function(e){u.value=e,i(u)},function(e){return t("throw",e,i,a)})}a(s.arg)}(n,o,t,i)})}return t=t?t.then(i,i):i()}}function w(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,w(e,n),"throw"===n.method))return f;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var o=c(r,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,f;var i=o.arg;return i?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,f):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,f)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function M(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function A(e){if(e){var n=e[i];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}return{next:x}}function x(){return{value:t,done:!0}}return m.prototype=k.constructor=y,y.constructor=m,y[s]=m.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,s in e||(e[s]="GeneratorFunction")),e.prototype=Object.create(k),e},e.awrap=function(e){return{__await:e}},C(P.prototype),P.prototype[a]=function(){return this},e.AsyncIterator=P,e.async=function(t,n,r,o){var i=new P(u(t,n,r,o));return e.isGeneratorFunction(n)?i:i.next().then(function(e){return e.done?e.value:i.next()})},C(k),k[s]="Generator",k[i]=function(){return this},k.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=A,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(M),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),M(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;M(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:A(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),f}},e}(e.exports);try{regeneratorRuntime=r}catch(e){Function("r","regeneratorRuntime = r")(r)}},function(e,t){},function(e,t){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);e.exports=function(){return n(r),r}}else{var o=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),o[t]=e>>>((3&t)<<3)&255;return o}}},function(e,t){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);e.exports=function(e,t){var r=t||0,o=n;return[o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]]].join("")}},function(e,t,n){"use strict";n.r(t);var r=n(5),o=n.n(r),i=n(6),a=n.n(i),s=n(0),u=n.n(s),c=n(2),l=n.n(c),p=n(3),d=n.n(p),h=n(4),f=n.n(h),g=n(7),m=n.n(g);function y(e){return e||(e=0),new Promise(function(t){return setTimeout(t,e)})}function v(e){e||(e=5);for(var t="",n="abcdefghijklmnopqrstuvwxzy0123456789",r=0;r<e;r++)t+=n.charAt(Math.floor(Math.random()*n.length));return t}var b=0,S=0;function k(){var e=(new Date).getTime();return e===b?1e3*e+ ++S:(b=e,S=0,1e3*e)}var C=n(1),P=n.n(C);var w={create:function(e){var t={messagesCallback:null,bc:new BroadcastChannel(e),subFns:[]};return t.bc.onmessage=function(e){t.messagesCallback&&t.messagesCallback(e.data)},t},close:function(e){e.bc.close(),e.subFns=[]},onMessage:function(e,t,n){e.messagesCallbackTime=n,e.messagesCallback=t},postMessage:function(e,t){e.bc.postMessage(t,!1)},canBeUsed:function(){if(P.a&&"undefined"==typeof window)return!1;if("function"==typeof BroadcastChannel){if(BroadcastChannel._pubkey)throw new Error("BroadcastChannel: Do not overwrite window.BroadcastChannel with this module, this is not a polyfill");return!0}return!1},type:"native",averageResponseTime:function(){return 100},microSeconds:k},E=function(e){this.ttl=e,this.set=new Set,this.timeMap=new Map,this.has=this.set.has.bind(this.set)};function M(){return(new Date).getTime()}E.prototype={add:function(e){this.timeMap.set(e,M()),this.set.add(e),function(e){var t=M()-e.ttl,n=e.set[Symbol.iterator]();for(;;){var r=n.next().value;if(!r)return;if(!(e.timeMap.get(r)<t))return;e.timeMap.delete(r),e.set.delete(r)}}(this)},clear:function(){this.set.clear(),this.timeMap.clear()}};var T=E;function A(e){return e||(e={}),void 0===(e=JSON.parse(JSON.stringify(e))).webWorkerSupport&&(e.webWorkerSupport=!0),e.idb||(e.idb={}),e.idb.ttl||(e.idb.ttl=45e3),e.idb.fallbackInterval||(e.idb.fallbackInterval=150),e.localstorage||(e.localstorage={}),e.localstorage.removeTimeout||(e.localstorage.removeTimeout=6e4),e.node||(e.node={}),e.node.ttl||(e.node.ttl=12e4),void 0===e.node.useFastPath&&(e.node.useFastPath=!0),e}var x="pubkey.broadcast-channel-0-",R="messages";function B(){return"undefined"!=typeof indexedDB?indexedDB:void 0!==window.mozIndexedDB?window.mozIndexedDB:void 0!==window.webkitIndexedDB?window.webkitIndexedDB:void 0!==window.msIndexedDB&&window.msIndexedDB}function I(e,t){return function(e,t){var n=(new Date).getTime()-t,r=e.transaction(R).objectStore(R),o=[];return new Promise(function(e){r.openCursor().onsuccess=function(t){var r=t.target.result;if(r){var i=r.value;if(!(i.time<n))return void e(o);o.push(i),r.continue()}else e(o)}})}(e,t).then(function(t){return Promise.all(t.map(function(t){return function(e,t){var n=e.transaction([R],"readwrite").objectStore(R).delete(t);return new Promise(function(e){n.onsuccess=function(){return e()}})}(e,t.id)}))})}function F(e){return e.closed?Promise.resolve():e.messagesCallback?(t=e.db,n=e.lastCursorId,r=t.transaction(R).objectStore(R),o=[],i=IDBKeyRange.bound(n+1,1/0),new Promise(function(e){r.openCursor(i).onsuccess=function(t){var n=t.target.result;n?(o.push(n.value),n.continue()):e(o)}})).then(function(t){return t.map(function(t){return t.id>e.lastCursorId&&(e.lastCursorId=t.id),t}).filter(function(t){return function(e,t){return e.uuid!==t.uuid&&(!t.eMIs.has(e.id)&&!(e.data.time<t.messagesCallbackTime))}(t,e)}).sort(function(e,t){return e.time-t.time}).forEach(function(t){e.messagesCallback&&(e.eMIs.add(t.id),e.messagesCallback(t.data))}),Promise.resolve()}):Promise.resolve();var t,n,r,o,i}var L="pubkey.broadcastChannel-";function N(e){return L+e}function _(){return!P.a&&!!function(){var e;if("undefined"==typeof window)return null;try{e=window.localStorage,e=window["ie8-eventlistener/storage"]||window.localStorage}catch(e){}return e}()}var O=[w,{create:function(e,t){return t=A(t),function(e){var t=B(),n=x+e,r=t.open(n,1);return r.onupgradeneeded=function(e){e.target.result.createObjectStore(R,{keyPath:"id",autoIncrement:!0})},new Promise(function(e,t){r.onerror=function(e){return t(e)},r.onsuccess=function(){e(r.result)}})}(e).then(function(n){var r={closed:!1,lastCursorId:0,channelName:e,options:t,uuid:v(10),eMIs:new T(2*t.idb.ttl),writeBlockPromise:Promise.resolve(),messagesCallback:null,readQueuePromises:[],db:n};return function e(t){if(t.closed)return;return F(t).then(function(){return y(t.options.idb.fallbackInterval)}).then(function(){return e(t)})}(r),r})},close:function(e){e.closed=!0,e.db.close()},onMessage:function(e,t,n){e.messagesCallbackTime=n,e.messagesCallback=t,F(e)},postMessage:function(e,t){return e.writeBlockPromise=e.writeBlockPromise.then(function(){return function(e,t,n){var r={uuid:t,time:(new Date).getTime(),data:n},o=e.transaction([R],"readwrite");return new Promise(function(e,t){o.oncomplete=function(){return e()},o.onerror=function(e){return t(e)},o.objectStore(R).add(r)})}(e.db,e.uuid,t)}).then(function(){var t,n;0===(t=0,n=10,Math.floor(Math.random()*(n-t+1)+t))&&I(e.db,e.options.idb.ttl)}),e.writeBlockPromise},canBeUsed:function(){return!P.a&&!!B()},type:"idb",averageResponseTime:function(e){return 2*e.idb.fallbackInterval},microSeconds:k},{create:function(e,t){if(t=A(t),!_())throw new Error("BroadcastChannel: localstorage cannot be used");var n=v(10),r=new T(t.localstorage.removeTimeout),o={channelName:e,uuid:n,eMIs:r};return o.listener=function(e,t){var n=N(e),r=function(e){e.key===n&&t(JSON.parse(e.newValue))};return window.addEventListener("storage",r),r}(e,function(e){o.messagesCallback&&e.uuid!==n&&e.token&&!r.has(e.token)&&(e.data.time&&e.data.time<o.messagesCallbackTime||(r.add(e.token),o.messagesCallback(e.data)))}),o},close:function(e){var t;t=e.listener,window.removeEventListener("storage",t)},onMessage:function(e,t,n){e.messagesCallbackTime=n,e.messagesCallback=t},postMessage:function(e,t){return new Promise(function(n){y().then(function(){var r=N(e.channelName),o={token:v(10),time:(new Date).getTime(),data:t,uuid:e.uuid},i=JSON.stringify(o);localStorage.setItem(r,i);var a=document.createEvent("Event");a.initEvent("storage",!0,!0),a.key=r,a.newValue=i,window.dispatchEvent(a),n()})})},canBeUsed:_,type:"localstorage",averageResponseTime:function(){return 120},microSeconds:k}];if(P.a){var U=n(14);"function"==typeof U.canBeUsed&&O.push(U)}function V(e){if(e.type){var t=O.find(function(t){return t.type===e.type});if(t)return t;throw new Error("method-type "+e.type+" not found")}var n=O;e.webWorkerSupport||P.a||(n=O.filter(function(e){return"idb"!==e.type}));var r=n.find(function(e){return e.canBeUsed()});if(r)return r;throw new Error("No useable methode found:"+JSON.stringify(O.map(function(e){return e.type})))}var D=function(e,t){var n,r,o;this.name=e,this.options=A(t),this.method=V(this.options),this._iL=!1,this._onML=null,this._addEL={message:[],internal:[]},this._befC=[],this._prepP=null,r=(n=this).method.create(n.name,n.options),(o=r)&&"function"==typeof o.then?(n._prepP=r,r.then(function(e){n._state=e})):n._state=r};function z(e,t,n){var r={time:e.method.microSeconds(),type:t,data:n};return(e._prepP?e._prepP:Promise.resolve()).then(function(){return e.method.postMessage(e._state,r)})}function j(e){return e._addEL.message.length>0||e._addEL.internal.length>0}function G(e,t,n){e._addEL[t].push(n),function(e){if(!e._iL&&j(e)){var t=function(t){e._addEL[t.type].forEach(function(e){t.time>=e.time&&e.fn(t.data)})},n=e.method.microSeconds();e._prepP?e._prepP.then(function(){e._iL=!0,e.method.onMessage(e._state,t,n)}):(e._iL=!0,e.method.onMessage(e._state,t,n))}}(e)}function Q(e,t,n){e._addEL[t]=e._addEL[t].filter(function(e){return e!==n}),function(e){if(e._iL&&!j(e)){e._iL=!1;var t=e.method.microSeconds();e.method.onMessage(e._state,null,t)}}(e)}D._pubkey=!0,D.clearNodeFolder=function(e){var t=V(e=A(e));return"node"===t.type?t.clearNodeFolder().then(function(){return!0}):Promise.resolve(!1)},D.prototype={postMessage:function(e){if(this.closed)throw new Error("BroadcastChannel.postMessage(): Cannot post message after channel has closed");return z(this,"message",e)},postInternal:function(e){return z(this,"internal",e)},set onmessage(e){var t={time:this.method.microSeconds(),fn:e};Q(this,"message",this._onML),e&&"function"==typeof e?(this._onML=t,G(this,"message",t)):this._onML=null},addEventListener:function(e,t){G(this,e,{time:this.method.microSeconds(),fn:t})},removeEventListener:function(e,t){Q(this,e,this._addEL[e].find(function(e){return e.fn===t}))},close:function(){var e=this;if(!this.closed){this.closed=!0;var t=this._prepP?this._prepP:Promise.resolve();return this._onML=null,this._addEL.message=[],t.then(function(){return Promise.all(e._befC.map(function(e){return e()}))}).then(function(){return e.method.close(e._state)})}},get type(){return this.method.type}};var W=D,H=n(8),K=n.n(H),q=new(function(){function e(){d()(this,e),this.setVerbosity("WARNING")}return f()(e,[{key:"debug",value:function(){var e;this.checkVerbosity(4)&&(e=console).log.apply(e,arguments)}},{key:"log",value:function(){var e;this.checkVerbosity(4)&&(e=console).log.apply(e,arguments)}},{key:"info",value:function(){var e;this.checkVerbosity(3)&&(e=console).info.apply(e,arguments)}},{key:"warn",value:function(){var e;this.checkVerbosity(2)&&(e=console).warn.apply(e,arguments)}},{key:"error",value:function(){var e;this.checkVerbosity(1)&&(e=console).error.apply(e,arguments)}},{key:"setVerbosity",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info";void 0===e&&(e=t),"string"==typeof e&&(e={ERROR:1,WARNING:2,INFO:3,LOG:4,DEBUG:4}[e.toUpperCase()]||2),this.level=e}},{key:"checkVerbosity",value:function(e){return this.level>=e}}]),e}()),J=function(e){return new Promise(function(t){return setTimeout(t,e)})},Y=function(){function e(t){var n=this;d()(this,e),q.setVerbosity(t.jsLogVerbosityLevel),this.worker=new m.a,this.worker.onmessage=function(e){n.onResponse(e.data)},this.query_id=0,this.query_callbacks=new Map,"onUpdate"in t&&(this.onUpdate=t.onUpdate,delete t.onUpdate),t.instanceName=t.instanceName||"tdlib",this.fileManager=new $(t.instanceName,this),this.worker.postMessage({"@type":"init",options:t}),this.closeOtherClients(t)}var t,n,r;return f()(e,[{key:"send",value:function(e){return this.doSend(e,!0)}},{key:"sendInternal",value:function(e){return this.doSend(e,!1)}},{key:"doSend",value:function(e,t){var n=this;this.query_id++,e["@extra"]?e["@extra"]={"@old_extra":JSON.parse(JSON.stringify(e["@extra"])),query_id:this.query_id}:e["@extra"]={query_id:this.query_id},"setJsLogVerbosityLevel"===e["@type"]&&q.setVerbosity(e.new_verbosity_level),q.debug("send to worker: ",e);var r=new Promise(function(e,t){n.query_callbacks.set(n.query_id,[e,t])});return t?this.externalPostMessage(e):this.worker.postMessage(e),r}},{key:"externalPostMessage",value:function(e){["getStorageStatistics","getStorageStatisticsFast","optimizeStorage","addProxy","init","start"].includes(e["@type"])?this.onResponse({"@type":"error","@extra":e["@extra"],code:400,message:"Method '"+e["@type"]+"' is not supported"}):"readFile"!==e["@type"]&&"readFilePart"!==e["@type"]?"deleteFile"!==e["@type"]?this.worker.postMessage(e):this.deleteFile(e):this.readFile(e)}},{key:"readFile",value:(r=l()(u.a.mark(function e(t){var n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fileManager.readFile(t);case 2:n=e.sent,this.onResponse(n);case 4:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)})},{key:"deleteFile",value:(n=l()(u.a.mark(function e(t){var n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.fileManager.deleteFile(t),e.prev=1,!n.idb_key){e.next=6;break}return e.next=5,this.sendInternal({"@type":"deleteIdbKey",idb_key:n.idb_key});case 5:delete n.idb_key;case 6:return e.next=8,this.sendInternal({"@type":"deleteFile",file_id:t.file_id});case 8:e.next=12;break;case 10:e.prev=10,e.t0=e.catch(1);case 12:this.onResponse(n);case 13:case"end":return e.stop()}},e,this,[[1,10]])})),function(e){return n.apply(this,arguments)})},{key:"onResponse",value:function(e){if(q.debug("receive from worker: ",JSON.parse(JSON.stringify(e,function(e,t){if("arr"!==e)return t}))),"@extra"in(e=this.prepareResponse(e))){var t=e["@extra"].query_id,n=this.query_callbacks.get(t),r=a()(n,2),o=r[0],i=r[1];this.query_callbacks.delete(t),"@old_extra"in e["@extra"]&&(e["@extra"]=e["@extra"]["@old_extra"]),o&&("error"===e["@type"]?i(e):o(e))}else{if("inited"===e["@type"])return void this.onInited();if("fsInited"===e["@type"])return void this.onFsInited();"updateAuthorizationState"===e["@type"]&&"authorizationStateClosed"===e.authorization_state["@type"]&&this.onClosed(),this.onUpdate(e)}}},{key:"prepareFile",value:function(e){return this.fileManager.registerFile(e)}},{key:"prepareResponse",value:function(e){if("file"===e["@type"])return this.prepareFile(e);for(var t in e){var n=e[t];n&&"object"===o()(n)&&(e[t]=this.prepareResponse(n))}return e}},{key:"onBroadcastMessage",value:function(e){var t=e;if(t.uid!==this.uid){if(q.info("got broadcast message: ",t),t.isBackground&&!this.isBackground);else if(!t.isBackground&&this.isBackground||t.timestamp>this.timestamp)return void this.close();"closed"===t.state?(this.waitSet.delete(t.uid),0===this.waitSet.size&&(q.info("onWaitSetEmpty"),this.onWaitSetEmpty(),this.onWaitSetEmpty=function(){})):(this.waitSet.add(t.uid),"closing"!==t.state&&this.postState())}else q.info("ignore self broadcast message: ",t)}},{key:"postState",value:function(){var e={uid:this.uid,state:this.state,timestamp:this.timestamp,isBackground:this.isBackground};q.info("Post state: ",e),this.channel.postMessage(e)}},{key:"onWaitSetEmpty",value:function(){}},{key:"onFsInited",value:function(){this.fileManager.init()}},{key:"onInited",value:function(){this.isInited=!0,this.doSendStart()}},{key:"sendStart",value:function(){this.wantSendStart=!0,this.doSendStart()}},{key:"doSendStart",value:function(){if(this.isInited&&this.wantSendStart&&"start"===this.state){this.wantSendStart=!1,this.state="active";var e={"@type":"start"};q.info("send to worker: ",e),this.worker.postMessage(e)}}},{key:"onClosed",value:function(){this.isClosing=!0,this.worker.terminate(),q.info("worker is terminated"),this.state="closed",this.postState()}},{key:"close",value:function(){if(!this.isClosing){if(this.isClosing=!0,q.info("close state: ",this.state),"start"===this.state)return this.onClosed(),void this.onUpdate({"@type":"updateAuthorizationState",authorization_state:{"@type":"authorizationStateClosed"}});var e={"@type":"close"};q.info("send to worker: ",e),this.worker.postMessage(e),this.state="closing",this.postState()}}},{key:"closeOtherClients",value:(t=l()(u.a.mark(function e(t){var n=this;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.uid=K()(),this.state="start",this.isBackground=!!t.isBackground,this.timestamp=Date.now(),this.waitSet=new Set,q.info("close other clients"),this.channel=new W(t.instanceName,{webWorkerSupport:!1}),this.postState(),this.channel.onmessage=function(e){n.onBroadcastMessage(e)},e.next=11,J(300);case 11:if(0===this.waitSet.size){e.next=14;break}return e.next=14,new Promise(function(e){n.onWaitSetEmpty=e});case 14:this.sendStart();case 15:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})},{key:"onUpdate",value:function(e){q.info("ignore onUpdate")}}]),e}(),Z=function(){function e(t){d()(this,e),this.value=t,this.clear()}return f()(e,[{key:"erase",value:function(){this.prev.connect(this.next),this.clear()}},{key:"clear",value:function(){this.prev=this,this.next=this}},{key:"connect",value:function(e){this.next=e,e.prev=this}},{key:"onUsed",value:function(e){e.usedAt=Date.now(),e.erase(),e.connect(this.next),q.debug("LRU: used file_id: ",e.value),this.connect(e)}},{key:"getLru",value:function(){if(this===this.next)throw new Error("popLru from empty list");return this.prev}}]),e}(),$=function(){function e(t,n){d()(this,e),this.instanceName=t,this.cache=new Map,this.pending=[],this.transaction_id=0,this.totalSize=0,this.lru=new Z(-1),this.client=n}var t,n,r,o;return f()(e,[{key:"init",value:function(){var e=this;this.idb=new Promise(function(t,n){var r=window.indexedDB.open(e.instanceName);r.onsuccess=function(){return t(r.result)},r.onerror=function(){return n(r.error)}}),this.isInited=!0}},{key:"unload",value:function(e){e.arr&&(q.debug("LRU: delete file_id: ",e.node.value," with arr.length: ",e.arr.length),this.totalSize-=e.arr.length,delete e.arr),e.node&&(e.node.erase(),delete e.node)}},{key:"registerFile",value:function(e){e.idb_key||e.arr?e.local.is_downloading_completed=!0:e.local.is_downloading_completed=!1;var t={},n=this.cache.get(e.id);if(n?t=n:this.cache.set(e.id,t),e.idb_key?(t.idb_key=e.idb_key,delete e.idb_key):delete t.idb_key,e.arr){for(var r=Date.now();this.totalSize>1e8;){var o=this.lru.getLru();if(o.usedAt+6e4>r)break;var i=this.cache.get(o.value);this.unload(i)}t.arr&&(q.warn("Got file.arr at least twice for the same file"),this.totalSize-=t.arr.length),t.arr=e.arr,delete e.arr,this.totalSize+=t.arr.length,t.node||(q.debug("LRU: create file_id: ",e.id," with arr.length: ",t.arr.length),t.node=new Z(e.id)),this.lru.onUsed(t.node),q.info("Total file.arr size: ",this.totalSize)}return t.file=e,e}},{key:"flushLoad",value:(o=l()(u.a.mark(function e(){var t,n,r,o,i,a,s,c,l,p;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.pending,this.pending=[],e.next=4,this.idb;case 4:for(n=e.sent,r=this.transaction_id++,o=n.transaction(["keyvaluepairs"],"readonly").objectStore("keyvaluepairs"),q.debug("Load group of files from idb",t.length),i=!0,a=!1,s=void 0,e.prev=11,c=function(){var e=p.value,t=o.get(e.key);t.onsuccess=function(t){var n=t.target.result;n?(0===n.size&&q.error("Got empty blob from db ",e.key),e.resolve({data:n,transaction_id:r})):e.reject()},t.onerror=function(){return e.reject(t.error)}},l=t[Symbol.iterator]();!(i=(p=l.next()).done);i=!0)c();e.next=20;break;case 16:e.prev=16,e.t0=e.catch(11),a=!0,s=e.t0;case 20:e.prev=20,e.prev=21,i||null==l.return||l.return();case 23:if(e.prev=23,!a){e.next=26;break}throw s;case 26:return e.finish(23);case 27:return e.finish(20);case 28:case"end":return e.stop()}},e,this,[[11,16,20,28],[21,,23,27]])})),function(){return o.apply(this,arguments)})},{key:"load",value:function(e,t,n){var r=this;0===this.pending.length&&setTimeout(function(){r.flushLoad()},1),this.pending.push({key:e,resolve:t,reject:n})}},{key:"doLoadFull",value:(r=l()(u.a.mark(function e(t){var n,r=this;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.arr){e.next=2;break}return e.abrupt("return",{data:new Blob([t.arr]),transaction_id:-1});case 2:if(!t.idb_key){e.next=7;break}return n=t.idb_key,e.next=6,new Promise(function(e,t){r.load(n,e,t)});case 6:return e.abrupt("return",e.sent);case 7:throw new Error("File is not loaded");case 8:case"end":return e.stop()}},e)})),function(e){return r.apply(this,arguments)})},{key:"doLoad",value:(n=l()(u.a.mark(function e(t,n,r){var o,i,a,s;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.arr||t.idb_key||!t.file.local.path){e.next=24;break}return e.prev=1,e.next=4,this.client.sendInternal({"@type":"getFileDownloadedPrefixSize",file_id:t.file.id,offset:n});case 4:if(o=e.sent,q.error(o,r),r){e.next=10;break}r=o.count,e.next=12;break;case 10:if(!(r>o.count)){e.next=12;break}throw new Error("File not loaded yet");case 12:return e.next=14,this.client.sendInternal({"@type":"readFilePart",path:t.file.local.path,offset:n,size:r});case 14:return(i=e.sent).data=new Blob([i.data]),i.transaction_id=-2,q.error(i),e.abrupt("return",i);case 21:e.prev=21,e.t0=e.catch(1),q.info("readFilePart failed",t,n,r,e.t0);case 24:return e.next=26,this.doLoadFull(t);case 26:return a=e.sent,s=a.data.size,r||(r=s),n>s&&(n=s),a.data=a.data.slice(n,n+r),e.abrupt("return",a);case 32:case"end":return e.stop()}},e,this,[[1,21]])})),function(e,t,r){return n.apply(this,arguments)})},{key:"doDelete",value:function(e){return this.unload(e),e.idb_key}},{key:"readFile",value:(t=l()(u.a.mark(function e(t){var n,r;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this.isInited){e.next=3;break}throw new Error("FileManager is not inited");case 3:if(n=this.cache.get(t.file_id)){e.next=6;break}throw new Error("File is not loaded");case 6:return n.node&&this.lru.onUsed(n.node),t.offset=t.offset||0,t.size=t.size||0,e.next=11,this.doLoad(n,t.offset,t.size);case 11:return r=e.sent,e.abrupt("return",{"@type":"filePart","@extra":t["@extra"],data:r.data,transaction_id:r.transaction_id});case 15:return e.prev=15,e.t0=e.catch(0),e.abrupt("return",{"@type":"error","@extra":t["@extra"],code:400,message:e.t0});case 18:case"end":return e.stop()}},e,this,[[0,15]])})),function(e){return t.apply(this,arguments)})},{key:"deleteFile",value:function(e){var t={"@type":"ok","@extra":e["@extra"]};try{if(!this.isInited)throw new Error("FileManager is not inited");var n=this.cache.get(e.file_id);if(!n)throw new Error("File is not loaded");var r=this.doDelete(n);r&&(t.idb_key=r)}catch(e){}return t}}]),e}();t.default=Y}])},e.exports=r()},function(e,t,n){"use strict";n.r(t);var r=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r},o=function(){};function i(e){return e&&"middleware"in e?e.middleware():e}function a(){return function(e,t){return"function"==typeof t?t():Promise.resolve()}}function s(e){if(!Array.isArray(e))throw new Error("Middleware list must be an array");return 0===e.length?a():1===e.length?i(e[0]):function(t,n){var r=-1;return function o(a){if(a<=r)return Promise.reject(new Error("next() called multiple times"));r=a;var s=i(e[a])||n;if(!s)return Promise.resolve();try{return Promise.resolve(s(t,function(){return o(a+1)}))}catch(e){return Promise.reject(e)}}(0)}}function u(e,t,n){return"function"!=typeof e?i(e?t:n):(r=function(r){return Promise.resolve(e(r)).then(function(e){return e?t:n})},function(e,t){return Promise.resolve(r(e)).then(function(n){return i(n)(e,t||o)})});var r}function c(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return u(e,s(t),a())}function l(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var o,i,a=(o=e,(Array.isArray(o)?o:[o]).filter(function(e){return e}).map(function(e){return e&&i&&!e.startsWith(i)?""+i+e:e}));return c.apply(void 0,r([function(e){return"_"in e&&a.includes(e._)}],t))}function p(e){return function(t,n){return setTimeout(i(e),0),n()}}function d(e){return u(e,a(),o)}var h,f=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.handler=s(e)}return e.prototype.middleware=function(){return this.handler},e.prototype.on=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.use(l.apply(void 0,r([e],t)))},e.prototype.use=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.handler=s(r([this.handler],e))},e.compose=s,e.fork=p,e.filter=d,e.branch=u,e.mount=l,e.optional=c,e.noop=o,e}(),g=(h=function(e,t){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}h(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),m=function(e){function t(n,r){var o=e.call(this,r)||this;return o.name="TDLibError",o.code=n,o.stack=(new Error).stack,Error.call(o,o.message),Error.captureStackTrace?Error.captureStackTrace(o,t):o.stack=(new Error).stack,o}return g(t,e),t.prototype.toString=function(){return this.message},t}(Error),y=function(){},v=function(){return(v=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function b(e){return e&&"_"in e&&"error"===e._}function S(e){var t=e.response;if(b(t))throw new m(t.code,t.message);return t}var k=function(){return(k=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},C=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}u((r=r.apply(e,t||[])).next())})},P=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},w=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r},E=function(){return{applicationVersion:"0.1.0",databaseDirectory:"./db",databaseEncryptionKey:"",deviceModel:"UNKNOWN DEVICE",systemLanguageCode:"en",systemVersion:"UNKNOWN VERSION"}},M=["useTestDc","databaseDirectory","filesDirectory","useFileDatabase","useChatInfoDatabase","useMessageDatabase","useSecretChats","apiId","apiHash","systemLanguageCode","deviceModel","systemVersion","applicationVersion","enableStorageOptimizer","ignoreFileNames"];var T=function(){function e(e){var t=this;this.on=function(e){for(var n,r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];(n=t.composer).on.apply(n,w([e],r))},this.config=k(k({},E()),e),this.composer=new f;var n=this.config.provider;if(!n||"function"!=typeof n.initialize)throw new Error("The `provider` option is required.");n.initialize(function(e){return t.handleUpdate(e)},function(e){var n=e instanceof Error?e:new Error(e);t.handleError(n)},this.config.models),void 0!==this.config.logVerbosityLevel&&n.execute({method:"setLogVerbosityLevel",params:{newVerbosityLevel:this.config.logVerbosityLevel}}),this.provider=n,this.handleError=function(e){throw e},this.callApi=this.callApi.bind(this),this.emit=this.emit.bind(this),this.api=new Proxy({},{get:function(e,n){return"toJSON"===n?"{}":function(e,r){return"Sync"===n.substr(-4)?t.provider.execute({method:n.substr(0,n.length-4),params:e}):t.callApi({method:n,params:e},r)}}}),this.bootstrapMiddleware(),setTimeout(function(){return t.api.getAuthorizationState()},0)}return Object.defineProperty(e.prototype,"name",{get:function(){return this.config.name||"airgram"},enumerable:!0,configurable:!0}),e.prototype.catch=function(e){this.handleError=e},e.prototype.destroy=function(){return this.provider.destroy()},e.prototype.emit=function(e,t){return this.handleUpdate(e,t||{})},e.prototype.use=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];(e=this.composer).use.apply(e,t)},e.prototype.apiMiddleware=function(){var e=this;return f.optional(function(e){return!!e.request},function(t,n){return C(e,void 0,void 0,function(){return P(this,function(e){return[2,this.provider.send(t.request).then(function(e){return t.response=e}).then(n)]})})})},e.prototype.bootstrapMiddleware=function(){var e=this,t=function(){var e={};return e.promise=new Promise(function(t,n){e.resolve=t,e.reject=n}),e}();this.use(function(n,r){return C(e,void 0,void 0,function(){return P(this,function(e){if(!t)return[2,r()];if("update"in n&&n.update){if("updateAuthorizationState"===n._)switch(n.update.authorizationState._){case"authorizationStateWaitTdlibParameters":this.api.setTdlibParameters({parameters:k({_:"tdlibParameters"},(o=this.config,i=M,v({},i.reduce(function(e,t){var n;return v(v({},e),((n={})[t]=o[t],n))},{}))))}).catch(this.handleError);break;case"authorizationStateWaitEncryptionKey":this.api.checkDatabaseEncryptionKey({encryptionKey:this.config.databaseEncryptionKey}).catch(this.handleError);break;default:setTimeout(function(){t&&(t.resolve(),t=null)},0)}return[2,r()]}return["setTdlibParameters","checkDatabaseEncryptionKey"].includes(n._)?[2,r()]:[2,t.promise.then(r)];var o,i})})})},e.prototype.callApi=function(e,t){var n=this;return this.createContext(e.method,{options:t||{},request:e}).then(function(e){return new Promise(function(t,r){return f.compose([n.composer.middleware(),n.apiMiddleware()])(e,function(){return C(n,void 0,void 0,function(){return P(this,function(n){return[2,t(e)]})})}).catch(r)})})},e.prototype.createContext=function(e,t){var n,r;return C(this,void 0,void 0,function(){var o,i,a,s,u=this;return P(this,function(c){switch(c.label){case 0:return o={},i={enumerable:!0,configurable:!1},Object.defineProperty(o,"airgram",k(k({},i),{get:function(){return u}})),(a=function(e){return Object.keys(e).forEach(function(t){Object.defineProperty(o,t,k(k({},i),{value:e[t],writable:!1}))})})((l=(null===(r=null===(n=t)||void 0===n?void 0:n.options)||void 0===r?void 0:r.state)||{},p=k({},l),{getState:function(){return k({},p)},setState:function(e){p=k(k({},p),"function"==typeof e?e(p):e)}})),a({_:e}),a(t),s=a,[4,this.getExtraContext(o)];case 1:return s.apply(void 0,[c.sent()]),[2,o]}var l,p})})},e.prototype.getExtraContext=function(e){return C(this,void 0,void 0,function(){var t;return P(this,function(n){if(t=this.config.context){if("function"!=typeof t)return[2,t];if(function(e){return"function"==typeof e}(t))return[2,t(e)]}return[2,{}]})})},e.prototype.handleUpdate=function(e,t){var n=this;return void 0===t&&(t={}),this.createContext(e._,{update:e,options:{state:t}}).then(function(e){return n.composer.middleware()(e,f.noop)})},e}(),A=n(0),x=n.n(A);function R(e){return"object"==typeof e&&!!e&&("_"in e||"@type"in e)}function B(e){return Array.isArray(e)&&!!e.length&&R(e[0])}var I,F,L,N,_,O,U,V,D,z,j,G,Q,W,H,K,q,J,Y,Z,$,X,ee,te,ne,re,oe,ie,ae,se,ue,ce,le,pe,de,he,fe,ge,me,ye,ve,be,Se,ke,Ce,Pe,we,Ee,Me,Te,Ae,xe,Re,Be,Ie,Fe,Le,Ne,_e,Oe,Ue,Ve,De,ze,je,Ge,Qe,We,He,Ke,qe,Je,Ye,Ze,$e,Xe,et,tt,nt,rt,ot,it,at,st,ut,ct,lt,pt,dt,ht,ft,gt,mt,yt,vt,bt,St,kt,Ct,Pt,wt,Et,Mt,Tt,At,xt,Rt,Bt,It,Ft,Lt,Nt,_t,Ot,Ut,Vt,Dt,zt,jt,Gt,Qt,Wt,Ht,Kt,qt,Jt,Yt,Zt,$t,Xt,en,tn,nn,rn,on,an,sn,un,cn,ln,pn,dn,hn,fn,gn,mn,yn,vn,bn,Sn,kn,Cn,Pn,wn,En,Mn,Tn,An,xn,Rn,Bn,In,Fn,Ln,Nn,_n,On,Un,Vn,Dn,zn,jn,Gn,Qn,Wn,Hn,Kn,qn,Jn,Yn,Zn,$n,Xn,er,tr,nr,rr,or,ir,ar,sr,ur,cr,lr,pr,dr,hr,fr,gr,mr,yr,vr,br,Sr,kr,Cr,Pr,wr,Er,Mr,Tr,Ar,xr,Rr,Br,Ir,Fr,Lr,Nr,_r,Or,Ur,Vr,Dr,zr,jr,Gr,Qr,Wr,Hr,Kr,qr,Jr,Yr,Zr,$r,Xr,eo,to,no,ro=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),oo=function(){return(oo=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},io=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}u((r=r.apply(e,t||[])).next())})},ao=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},so=function(e){function t(t){void 0===t&&(t={});var n,r=e.call(this)||this;return r.client=null,r.config={},r.config=t,r.serialize=(n=new Map,function e(t){if(R(t)){var r={"@type":"UNKNOWN"};return Object.keys(t).forEach(function(o){if("_"===o&&t._)r["@type"]=t._;else if(o)if("@"!==o.charAt(0)){n.has(o)||n.set(o,o.replace(/^\w/,function(e){return e.toLowerCase()}).replace(/[A-Z]/g,function(e){return"_"+e.toLowerCase()}));var i=t[o],a=n.get(o);B(i)?r[a]=i.map(e):R(i)?r[a]=e(i):r[a]=i}else r[o]=t[o]}),r}throw new Error("[Airgram][serialize] invalid value: "+t)}),r.deserialize=function(){var e=new Map;return function t(n){if(R(n)){var r={_:"UNKNOWN"};return Object.keys(n).forEach(function(o){if("@type"===o&&n["@type"])r._=n["@type"];else if(o)if("@"!==o.charAt(0)){e.has(o)||e.set(o,o.toLowerCase().replace(/[^a-zA-Z0-9]+(.)/g,function(e,t){return t.toUpperCase()}));var i=n[o],a=e.get(o);B(i)?r[a]=i.map(function(e){return t(e)}):R(i)?r[a]=t(i):r[a]=i}else r[o]=n[o]}),r}if(!n)return n;throw new Error("[Airgram][deserialize] invalid value: "+n)}}(),r}return ro(t,e),t.prototype.destroy=function(){return io(this,void 0,void 0,function(){return ao(this,function(e){throw new Error("[Airgram] for web does not support `destroy()` method.")})})},t.prototype.execute=function(){throw new Error("[Airgram] tdweb does not support synchronous operations.")},t.prototype.initialize=function(e){var t=this;this.client=new x.a(oo(oo({},this.config),{onUpdate:function(n){return e(t.deserialize(n))}}))},t.prototype.send=function(e){var t=this,n=e.method,r=e.params;if(!this.client)throw new Error("[Airgram] tdweb instance has not initialized yet.");return this.client.send(this.serialize(oo({_:n},r))).then(function(e){return t.deserialize(e)}).catch(function(e){if("@type"in e&&e["@type"]){var n=t.deserialize(e);return n.message=String(n.message),n}throw e})},t}(y),uo=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),co=function(){return(co=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},lo=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},po=function(e){function t(t){console.info("WEB CON");var n=t.instanceName,r=t.isBackground,o=t.jsLogVerbosityLevel,i=t.logVerbosityLevel,a=t.mode,s=t.readOnly,u=t.useDatabase,c=lo(t,["instanceName","isBackground","jsLogVerbosityLevel","logVerbosityLevel","mode","readOnly","useDatabase"]),l=co(co({},c),{provider:new so({instanceName:n,isBackground:r,jsLogVerbosityLevel:o,logVerbosityLevel:i,mode:a,readOnly:s,useDatabase:u})});return console.info({restConfig:c}),e.call(this,l)||this}return uo(t,e),t}(T),ho=["addCustomServerLanguagePack","addLogMessage","addNetworkStatistics","addProxy","cleanFileName","deleteAccount","deleteLanguagePack","disableProxy","editCustomLanguagePackInfo","editProxy","enableProxy","getApplicationConfig","getCountryCode","getCurrentState","getDeepLinkInfo","getFileExtension","getFileMimeType","getJsonString","getJsonValue","getLanguagePackInfo","getLanguagePackString","getLanguagePackStrings","getLocalizationTargetInfo","getLogStream","getLogTagVerbosityLevel","getLogTags","getLogVerbosityLevel","getNetworkStatistics","getOption","getProxies","getProxyLink","getPushReceiverId","getStorageStatistics","getStorageStatisticsFast","getTextEntities","parseTextEntities","pingProxy","processPushNotification","removeProxy","resetNetworkStatistics","saveApplicationLogEvent","setAlarm","setCustomLanguagePackString","setLogStream","setLogTagVerbosityLevel","setLogVerbosityLevel","setNetworkType","setOption","synchronizeLanguagePack","testCallBytes","testCallEmpty","testCallString","testCallVectorInt","testCallVectorIntObject","testCallVectorString","testCallVectorStringObject","testNetwork","testProxy","testReturnError","testSquareInt","testUseUpdate"];!function(e){e.accountTtl="accountTtl"}(I||(I={})),function(e){e.address="address"}(F||(F={})),function(e){e.animation="animation"}(L||(L={})),function(e){e.animations="animations"}(N||(N={})),function(e){e.audio="audio"}(_||(_={})),function(e){e.authenticationCodeInfo="authenticationCodeInfo"}(O||(O={})),function(e){e.authenticationCodeTypeTelegramMessage="authenticationCodeTypeTelegramMessage",e.authenticationCodeTypeSms="authenticationCodeTypeSms",e.authenticationCodeTypeCall="authenticationCodeTypeCall",e.authenticationCodeTypeFlashCall="authenticationCodeTypeFlashCall"}(U||(U={})),function(e){e.authorizationStateWaitTdlibParameters="authorizationStateWaitTdlibParameters",e.authorizationStateWaitEncryptionKey="authorizationStateWaitEncryptionKey",e.authorizationStateWaitPhoneNumber="authorizationStateWaitPhoneNumber",e.authorizationStateWaitCode="authorizationStateWaitCode",e.authorizationStateWaitOtherDeviceConfirmation="authorizationStateWaitOtherDeviceConfirmation",e.authorizationStateWaitRegistration="authorizationStateWaitRegistration",e.authorizationStateWaitPassword="authorizationStateWaitPassword",e.authorizationStateReady="authorizationStateReady",e.authorizationStateLoggingOut="authorizationStateLoggingOut",e.authorizationStateClosing="authorizationStateClosing",e.authorizationStateClosed="authorizationStateClosed"}(V||(V={})),function(e){e.autoDownloadSettings="autoDownloadSettings"}(D||(D={})),function(e){e.autoDownloadSettingsPresets="autoDownloadSettingsPresets"}(z||(z={})),function(e){e.background="background"}(j||(j={})),function(e){e.backgroundFillSolid="backgroundFillSolid",e.backgroundFillGradient="backgroundFillGradient"}(G||(G={})),function(e){e.backgroundTypeWallpaper="backgroundTypeWallpaper",e.backgroundTypePattern="backgroundTypePattern",e.backgroundTypeFill="backgroundTypeFill"}(Q||(Q={})),function(e){e.backgrounds="backgrounds"}(W||(W={})),function(e){e.basicGroup="basicGroup"}(H||(H={})),function(e){e.basicGroupFullInfo="basicGroupFullInfo"}(K||(K={})),function(e){e.botCommand="botCommand"}(q||(q={})),function(e){e.botInfo="botInfo"}(J||(J={})),function(e){e.call="call"}(Y||(Y={})),function(e){e.callConnection="callConnection"}(Z||(Z={})),function(e){e.callDiscardReasonEmpty="callDiscardReasonEmpty",e.callDiscardReasonMissed="callDiscardReasonMissed",e.callDiscardReasonDeclined="callDiscardReasonDeclined",e.callDiscardReasonDisconnected="callDiscardReasonDisconnected",e.callDiscardReasonHungUp="callDiscardReasonHungUp"}($||($={})),function(e){e.callId="callId"}(X||(X={})),function(e){e.callProblemEcho="callProblemEcho",e.callProblemNoise="callProblemNoise",e.callProblemInterruptions="callProblemInterruptions",e.callProblemDistortedSpeech="callProblemDistortedSpeech",e.callProblemSilentLocal="callProblemSilentLocal",e.callProblemSilentRemote="callProblemSilentRemote",e.callProblemDropped="callProblemDropped"}(ee||(ee={})),function(e){e.callProtocol="callProtocol"}(te||(te={})),function(e){e.callStatePending="callStatePending",e.callStateExchangingKeys="callStateExchangingKeys",e.callStateReady="callStateReady",e.callStateHangingUp="callStateHangingUp",e.callStateDiscarded="callStateDiscarded",e.callStateError="callStateError"}(ne||(ne={})),function(e){e.callbackQueryAnswer="callbackQueryAnswer"}(re||(re={})),function(e){e.callbackQueryPayloadData="callbackQueryPayloadData",e.callbackQueryPayloadGame="callbackQueryPayloadGame"}(oe||(oe={})),function(e){e.canTransferOwnershipResultOk="canTransferOwnershipResultOk",e.canTransferOwnershipResultPasswordNeeded="canTransferOwnershipResultPasswordNeeded",e.canTransferOwnershipResultPasswordTooFresh="canTransferOwnershipResultPasswordTooFresh",e.canTransferOwnershipResultSessionTooFresh="canTransferOwnershipResultSessionTooFresh"}(ie||(ie={})),function(e){e.chat="chat"}(ae||(ae={})),function(e){e.chatActionTyping="chatActionTyping",e.chatActionRecordingVideo="chatActionRecordingVideo",e.chatActionUploadingVideo="chatActionUploadingVideo",e.chatActionRecordingVoiceNote="chatActionRecordingVoiceNote",e.chatActionUploadingVoiceNote="chatActionUploadingVoiceNote",e.chatActionUploadingPhoto="chatActionUploadingPhoto",e.chatActionUploadingDocument="chatActionUploadingDocument",e.chatActionChoosingLocation="chatActionChoosingLocation",e.chatActionChoosingContact="chatActionChoosingContact",e.chatActionStartPlayingGame="chatActionStartPlayingGame",e.chatActionRecordingVideoNote="chatActionRecordingVideoNote",e.chatActionUploadingVideoNote="chatActionUploadingVideoNote",e.chatActionCancel="chatActionCancel"}(se||(se={})),function(e){e.chatActionBarReportSpam="chatActionBarReportSpam",e.chatActionBarReportUnrelatedLocation="chatActionBarReportUnrelatedLocation",e.chatActionBarReportAddBlock="chatActionBarReportAddBlock",e.chatActionBarAddContact="chatActionBarAddContact",e.chatActionBarSharePhoneNumber="chatActionBarSharePhoneNumber"}(ue||(ue={})),function(e){e.chatAdministrator="chatAdministrator"}(ce||(ce={})),function(e){e.chatAdministrators="chatAdministrators"}(le||(le={})),function(e){e.chatEvent="chatEvent"}(pe||(pe={})),function(e){e.chatEventMessageEdited="chatEventMessageEdited",e.chatEventMessageDeleted="chatEventMessageDeleted",e.chatEventPollStopped="chatEventPollStopped",e.chatEventMessagePinned="chatEventMessagePinned",e.chatEventMessageUnpinned="chatEventMessageUnpinned",e.chatEventMemberJoined="chatEventMemberJoined",e.chatEventMemberLeft="chatEventMemberLeft",e.chatEventMemberInvited="chatEventMemberInvited",e.chatEventMemberPromoted="chatEventMemberPromoted",e.chatEventMemberRestricted="chatEventMemberRestricted",e.chatEventTitleChanged="chatEventTitleChanged",e.chatEventPermissionsChanged="chatEventPermissionsChanged",e.chatEventDescriptionChanged="chatEventDescriptionChanged",e.chatEventUsernameChanged="chatEventUsernameChanged",e.chatEventPhotoChanged="chatEventPhotoChanged",e.chatEventInvitesToggled="chatEventInvitesToggled",e.chatEventLinkedChatChanged="chatEventLinkedChatChanged",e.chatEventSlowModeDelayChanged="chatEventSlowModeDelayChanged",e.chatEventSignMessagesToggled="chatEventSignMessagesToggled",e.chatEventStickerSetChanged="chatEventStickerSetChanged",e.chatEventLocationChanged="chatEventLocationChanged",e.chatEventIsAllHistoryAvailableToggled="chatEventIsAllHistoryAvailableToggled"}(de||(de={})),function(e){e.chatEventLogFilters="chatEventLogFilters"}(he||(he={})),function(e){e.chatEvents="chatEvents"}(fe||(fe={})),function(e){e.chatInviteLink="chatInviteLink"}(ge||(ge={})),function(e){e.chatInviteLinkInfo="chatInviteLinkInfo"}(me||(me={})),function(e){e.chatListMain="chatListMain",e.chatListArchive="chatListArchive"}(ye||(ye={})),function(e){e.chatLocation="chatLocation"}(ve||(ve={})),function(e){e.chatMember="chatMember"}(be||(be={})),function(e){e.chatMemberStatusCreator="chatMemberStatusCreator",e.chatMemberStatusAdministrator="chatMemberStatusAdministrator",e.chatMemberStatusMember="chatMemberStatusMember",e.chatMemberStatusRestricted="chatMemberStatusRestricted",e.chatMemberStatusLeft="chatMemberStatusLeft",e.chatMemberStatusBanned="chatMemberStatusBanned"}(Se||(Se={})),function(e){e.chatMembers="chatMembers"}(ke||(ke={})),function(e){e.chatMembersFilterContacts="chatMembersFilterContacts",e.chatMembersFilterAdministrators="chatMembersFilterAdministrators",e.chatMembersFilterMembers="chatMembersFilterMembers",e.chatMembersFilterRestricted="chatMembersFilterRestricted",e.chatMembersFilterBanned="chatMembersFilterBanned",e.chatMembersFilterBots="chatMembersFilterBots"}(Ce||(Ce={})),function(e){e.chatNearby="chatNearby"}(Pe||(Pe={})),function(e){e.chatNotificationSettings="chatNotificationSettings"}(we||(we={})),function(e){e.chatPermissions="chatPermissions"}(Ee||(Ee={})),function(e){e.chatPhoto="chatPhoto"}(Me||(Me={})),function(e){e.chatReportReasonSpam="chatReportReasonSpam",e.chatReportReasonViolence="chatReportReasonViolence",e.chatReportReasonPornography="chatReportReasonPornography",e.chatReportReasonChildAbuse="chatReportReasonChildAbuse",e.chatReportReasonCopyright="chatReportReasonCopyright",e.chatReportReasonUnrelatedLocation="chatReportReasonUnrelatedLocation",e.chatReportReasonCustom="chatReportReasonCustom"}(Te||(Te={})),function(e){e.chatTypePrivate="chatTypePrivate",e.chatTypeBasicGroup="chatTypeBasicGroup",e.chatTypeSupergroup="chatTypeSupergroup",e.chatTypeSecret="chatTypeSecret"}(Ae||(Ae={})),function(e){e.chats="chats"}(xe||(xe={})),function(e){e.chatsNearby="chatsNearby"}(Re||(Re={})),function(e){e.checkChatUsernameResultOk="checkChatUsernameResultOk",e.checkChatUsernameResultUsernameInvalid="checkChatUsernameResultUsernameInvalid",e.checkChatUsernameResultUsernameOccupied="checkChatUsernameResultUsernameOccupied",e.checkChatUsernameResultPublicChatsTooMuch="checkChatUsernameResultPublicChatsTooMuch",e.checkChatUsernameResultPublicGroupsUnavailable="checkChatUsernameResultPublicGroupsUnavailable"}(Be||(Be={})),function(e){e.connectedWebsite="connectedWebsite"}(Ie||(Ie={})),function(e){e.connectedWebsites="connectedWebsites"}(Fe||(Fe={})),function(e){e.connectionStateWaitingForNetwork="connectionStateWaitingForNetwork",e.connectionStateConnectingToProxy="connectionStateConnectingToProxy",e.connectionStateConnecting="connectionStateConnecting",e.connectionStateUpdating="connectionStateUpdating",e.connectionStateReady="connectionStateReady"}(Le||(Le={})),function(e){e.contact="contact"}(Ne||(Ne={})),function(e){e.count="count"}(_e||(_e={})),function(e){e.customRequestResult="customRequestResult"}(Oe||(Oe={})),function(e){e.databaseStatistics="databaseStatistics"}(Ue||(Ue={})),function(e){e.date="date"}(Ve||(Ve={})),function(e){e.datedFile="datedFile"}(De||(De={})),function(e){e.deepLinkInfo="deepLinkInfo"}(ze||(ze={})),function(e){e.deviceTokenFirebaseCloudMessaging="deviceTokenFirebaseCloudMessaging",e.deviceTokenApplePush="deviceTokenApplePush",e.deviceTokenApplePushVoIP="deviceTokenApplePushVoIP",e.deviceTokenWindowsPush="deviceTokenWindowsPush",e.deviceTokenMicrosoftPush="deviceTokenMicrosoftPush",e.deviceTokenMicrosoftPushVoIP="deviceTokenMicrosoftPushVoIP",e.deviceTokenWebPush="deviceTokenWebPush",e.deviceTokenSimplePush="deviceTokenSimplePush",e.deviceTokenUbuntuPush="deviceTokenUbuntuPush",e.deviceTokenBlackBerryPush="deviceTokenBlackBerryPush",e.deviceTokenTizenPush="deviceTokenTizenPush"}(je||(je={})),function(e){e.document="document"}(Ge||(Ge={})),function(e){e.draftMessage="draftMessage"}(Qe||(Qe={})),function(e){e.emailAddressAuthenticationCodeInfo="emailAddressAuthenticationCodeInfo"}(We||(We={})),function(e){e.emojis="emojis"}(He||(He={})),function(e){e.encryptedCredentials="encryptedCredentials"}(Ke||(Ke={})),function(e){e.encryptedPassportElement="encryptedPassportElement"}(qe||(qe={})),function(e){e.error="error"}(Je||(Je={})),function(e){e.file="file"}(Ye||(Ye={})),function(e){e.filePart="filePart"}(Ze||(Ze={})),function(e){e.fileTypeNone="fileTypeNone",e.fileTypeAnimation="fileTypeAnimation",e.fileTypeAudio="fileTypeAudio",e.fileTypeDocument="fileTypeDocument",e.fileTypePhoto="fileTypePhoto",e.fileTypeProfilePhoto="fileTypeProfilePhoto",e.fileTypeSecret="fileTypeSecret",e.fileTypeSecretThumbnail="fileTypeSecretThumbnail",e.fileTypeSecure="fileTypeSecure",e.fileTypeSticker="fileTypeSticker",e.fileTypeThumbnail="fileTypeThumbnail",e.fileTypeUnknown="fileTypeUnknown",e.fileTypeVideo="fileTypeVideo",e.fileTypeVideoNote="fileTypeVideoNote",e.fileTypeVoiceNote="fileTypeVoiceNote",e.fileTypeWallpaper="fileTypeWallpaper"}($e||($e={})),function(e){e.formattedText="formattedText"}(Xe||(Xe={})),function(e){e.foundMessages="foundMessages"}(et||(et={})),function(e){e.game="game"}(tt||(tt={})),function(e){e.gameHighScore="gameHighScore"}(nt||(nt={})),function(e){e.gameHighScores="gameHighScores"}(rt||(rt={})),function(e){e.hashtags="hashtags"}(ot||(ot={})),function(e){e.httpUrl="httpUrl"}(it||(it={})),function(e){e.identityDocument="identityDocument"}(at||(at={})),function(e){e.importedContacts="importedContacts"}(st||(st={})),function(e){e.inlineKeyboardButton="inlineKeyboardButton"}(ut||(ut={})),function(e){e.inlineKeyboardButtonTypeUrl="inlineKeyboardButtonTypeUrl",e.inlineKeyboardButtonTypeLoginUrl="inlineKeyboardButtonTypeLoginUrl",e.inlineKeyboardButtonTypeCallback="inlineKeyboardButtonTypeCallback",e.inlineKeyboardButtonTypeCallbackGame="inlineKeyboardButtonTypeCallbackGame",e.inlineKeyboardButtonTypeSwitchInline="inlineKeyboardButtonTypeSwitchInline",e.inlineKeyboardButtonTypeBuy="inlineKeyboardButtonTypeBuy"}(ct||(ct={})),function(e){e.inlineQueryResultArticle="inlineQueryResultArticle",e.inlineQueryResultContact="inlineQueryResultContact",e.inlineQueryResultLocation="inlineQueryResultLocation",e.inlineQueryResultVenue="inlineQueryResultVenue",e.inlineQueryResultGame="inlineQueryResultGame",e.inlineQueryResultAnimation="inlineQueryResultAnimation",e.inlineQueryResultAudio="inlineQueryResultAudio",e.inlineQueryResultDocument="inlineQueryResultDocument",e.inlineQueryResultPhoto="inlineQueryResultPhoto",e.inlineQueryResultSticker="inlineQueryResultSticker",e.inlineQueryResultVideo="inlineQueryResultVideo",e.inlineQueryResultVoiceNote="inlineQueryResultVoiceNote"}(lt||(lt={})),function(e){e.inlineQueryResults="inlineQueryResults"}(pt||(pt={})),function(e){e.inputBackgroundLocal="inputBackgroundLocal",e.inputBackgroundRemote="inputBackgroundRemote"}(dt||(dt={})),function(e){e.inputCredentialsSaved="inputCredentialsSaved",e.inputCredentialsNew="inputCredentialsNew",e.inputCredentialsAndroidPay="inputCredentialsAndroidPay",e.inputCredentialsApplePay="inputCredentialsApplePay"}(ht||(ht={})),function(e){e.inputFileId="inputFileId",e.inputFileRemote="inputFileRemote",e.inputFileLocal="inputFileLocal",e.inputFileGenerated="inputFileGenerated"}(ft||(ft={})),function(e){e.inputIdentityDocument="inputIdentityDocument"}(gt||(gt={})),function(e){e.inputInlineQueryResultAnimatedGif="inputInlineQueryResultAnimatedGif",e.inputInlineQueryResultAnimatedMpeg4="inputInlineQueryResultAnimatedMpeg4",e.inputInlineQueryResultArticle="inputInlineQueryResultArticle",e.inputInlineQueryResultAudio="inputInlineQueryResultAudio",e.inputInlineQueryResultContact="inputInlineQueryResultContact",e.inputInlineQueryResultDocument="inputInlineQueryResultDocument",e.inputInlineQueryResultGame="inputInlineQueryResultGame",e.inputInlineQueryResultLocation="inputInlineQueryResultLocation",e.inputInlineQueryResultPhoto="inputInlineQueryResultPhoto",e.inputInlineQueryResultSticker="inputInlineQueryResultSticker",e.inputInlineQueryResultVenue="inputInlineQueryResultVenue",e.inputInlineQueryResultVideo="inputInlineQueryResultVideo",e.inputInlineQueryResultVoiceNote="inputInlineQueryResultVoiceNote"}(mt||(mt={})),function(e){e.inputMessageText="inputMessageText",e.inputMessageAnimation="inputMessageAnimation",e.inputMessageAudio="inputMessageAudio",e.inputMessageDocument="inputMessageDocument",e.inputMessagePhoto="inputMessagePhoto",e.inputMessageSticker="inputMessageSticker",e.inputMessageVideo="inputMessageVideo",e.inputMessageVideoNote="inputMessageVideoNote",e.inputMessageVoiceNote="inputMessageVoiceNote",e.inputMessageLocation="inputMessageLocation",e.inputMessageVenue="inputMessageVenue",e.inputMessageContact="inputMessageContact",e.inputMessageGame="inputMessageGame",e.inputMessageInvoice="inputMessageInvoice",e.inputMessagePoll="inputMessagePoll",e.inputMessageForwarded="inputMessageForwarded"}(yt||(yt={})),function(e){e.inputPassportElementPersonalDetails="inputPassportElementPersonalDetails",e.inputPassportElementPassport="inputPassportElementPassport",e.inputPassportElementDriverLicense="inputPassportElementDriverLicense",e.inputPassportElementIdentityCard="inputPassportElementIdentityCard",e.inputPassportElementInternalPassport="inputPassportElementInternalPassport",e.inputPassportElementAddress="inputPassportElementAddress",e.inputPassportElementUtilityBill="inputPassportElementUtilityBill",e.inputPassportElementBankStatement="inputPassportElementBankStatement",e.inputPassportElementRentalAgreement="inputPassportElementRentalAgreement",e.inputPassportElementPassportRegistration="inputPassportElementPassportRegistration",e.inputPassportElementTemporaryRegistration="inputPassportElementTemporaryRegistration",e.inputPassportElementPhoneNumber="inputPassportElementPhoneNumber",e.inputPassportElementEmailAddress="inputPassportElementEmailAddress"}(vt||(vt={})),function(e){e.inputPassportElementError="inputPassportElementError"}(bt||(bt={})),function(e){e.inputPassportElementErrorSourceUnspecified="inputPassportElementErrorSourceUnspecified",e.inputPassportElementErrorSourceDataField="inputPassportElementErrorSourceDataField",e.inputPassportElementErrorSourceFrontSide="inputPassportElementErrorSourceFrontSide",e.inputPassportElementErrorSourceReverseSide="inputPassportElementErrorSourceReverseSide",e.inputPassportElementErrorSourceSelfie="inputPassportElementErrorSourceSelfie",e.inputPassportElementErrorSourceTranslationFile="inputPassportElementErrorSourceTranslationFile",e.inputPassportElementErrorSourceTranslationFiles="inputPassportElementErrorSourceTranslationFiles",e.inputPassportElementErrorSourceFile="inputPassportElementErrorSourceFile",e.inputPassportElementErrorSourceFiles="inputPassportElementErrorSourceFiles"}(St||(St={})),function(e){e.inputPersonalDocument="inputPersonalDocument"}(kt||(kt={})),function(e){e.inputSticker="inputSticker"}(Ct||(Ct={})),function(e){e.inputThumbnail="inputThumbnail"}(Pt||(Pt={})),function(e){e.invoice="invoice"}(wt||(wt={})),function(e){e.jsonObjectMember="jsonObjectMember"}(Et||(Et={})),function(e){e.jsonValueNull="jsonValueNull",e.jsonValueBoolean="jsonValueBoolean",e.jsonValueNumber="jsonValueNumber",e.jsonValueString="jsonValueString",e.jsonValueArray="jsonValueArray",e.jsonValueObject="jsonValueObject"}(Mt||(Mt={})),function(e){e.keyboardButton="keyboardButton"}(Tt||(Tt={})),function(e){e.keyboardButtonTypeText="keyboardButtonTypeText",e.keyboardButtonTypeRequestPhoneNumber="keyboardButtonTypeRequestPhoneNumber",e.keyboardButtonTypeRequestLocation="keyboardButtonTypeRequestLocation",e.keyboardButtonTypeRequestPoll="keyboardButtonTypeRequestPoll"}(At||(At={})),function(e){e.labeledPricePart="labeledPricePart"}(xt||(xt={})),function(e){e.languagePackInfo="languagePackInfo"}(Rt||(Rt={})),function(e){e.languagePackString="languagePackString"}(Bt||(Bt={})),function(e){e.languagePackStringValueOrdinary="languagePackStringValueOrdinary",e.languagePackStringValuePluralized="languagePackStringValuePluralized",e.languagePackStringValueDeleted="languagePackStringValueDeleted"}(It||(It={})),function(e){e.languagePackStrings="languagePackStrings"}(Ft||(Ft={})),function(e){e.localFile="localFile"}(Lt||(Lt={})),function(e){e.localizationTargetInfo="localizationTargetInfo"}(Nt||(Nt={})),function(e){e.location="location"}(_t||(_t={})),function(e){e.logStreamDefault="logStreamDefault",e.logStreamFile="logStreamFile",e.logStreamEmpty="logStreamEmpty"}(Ot||(Ot={})),function(e){e.logTags="logTags"}(Ut||(Ut={})),function(e){e.logVerbosityLevel="logVerbosityLevel"}(Vt||(Vt={})),function(e){e.loginUrlInfoOpen="loginUrlInfoOpen",e.loginUrlInfoRequestConfirmation="loginUrlInfoRequestConfirmation"}(Dt||(Dt={})),function(e){e.maskPointForehead="maskPointForehead",e.maskPointEyes="maskPointEyes",e.maskPointMouth="maskPointMouth",e.maskPointChin="maskPointChin"}(zt||(zt={})),function(e){e.maskPosition="maskPosition"}(jt||(jt={})),function(e){e.message="message"}(Gt||(Gt={})),function(e){e.messageText="messageText",e.messageAnimation="messageAnimation",e.messageAudio="messageAudio",e.messageDocument="messageDocument",e.messagePhoto="messagePhoto",e.messageExpiredPhoto="messageExpiredPhoto",e.messageSticker="messageSticker",e.messageVideo="messageVideo",e.messageExpiredVideo="messageExpiredVideo",e.messageVideoNote="messageVideoNote",e.messageVoiceNote="messageVoiceNote",e.messageLocation="messageLocation",e.messageVenue="messageVenue",e.messageContact="messageContact",e.messageGame="messageGame",e.messagePoll="messagePoll",e.messageInvoice="messageInvoice",e.messageCall="messageCall",e.messageBasicGroupChatCreate="messageBasicGroupChatCreate",e.messageSupergroupChatCreate="messageSupergroupChatCreate",e.messageChatChangeTitle="messageChatChangeTitle",e.messageChatChangePhoto="messageChatChangePhoto",e.messageChatDeletePhoto="messageChatDeletePhoto",e.messageChatAddMembers="messageChatAddMembers",e.messageChatJoinByLink="messageChatJoinByLink",e.messageChatDeleteMember="messageChatDeleteMember",e.messageChatUpgradeTo="messageChatUpgradeTo",e.messageChatUpgradeFrom="messageChatUpgradeFrom",e.messagePinMessage="messagePinMessage",e.messageScreenshotTaken="messageScreenshotTaken",e.messageChatSetTtl="messageChatSetTtl",e.messageCustomServiceAction="messageCustomServiceAction",e.messageGameScore="messageGameScore",e.messagePaymentSuccessful="messagePaymentSuccessful",e.messagePaymentSuccessfulBot="messagePaymentSuccessfulBot",e.messageContactRegistered="messageContactRegistered",e.messageWebsiteConnected="messageWebsiteConnected",e.messagePassportDataSent="messagePassportDataSent",e.messagePassportDataReceived="messagePassportDataReceived",e.messageUnsupported="messageUnsupported"}(Qt||(Qt={})),function(e){e.messageForwardInfo="messageForwardInfo"}(Wt||(Wt={})),function(e){e.messageForwardOriginUser="messageForwardOriginUser",e.messageForwardOriginHiddenUser="messageForwardOriginHiddenUser",e.messageForwardOriginChannel="messageForwardOriginChannel"}(Ht||(Ht={})),function(e){e.messageLinkInfo="messageLinkInfo"}(Kt||(Kt={})),function(e){e.messageSchedulingStateSendAtDate="messageSchedulingStateSendAtDate",e.messageSchedulingStateSendWhenOnline="messageSchedulingStateSendWhenOnline"}(qt||(qt={})),function(e){e.messageSendingStatePending="messageSendingStatePending",e.messageSendingStateFailed="messageSendingStateFailed"}(Jt||(Jt={})),function(e){e.messages="messages"}(Yt||(Yt={})),function(e){e.minithumbnail="minithumbnail"}(Zt||(Zt={})),function(e){e.networkStatistics="networkStatistics"}($t||($t={})),function(e){e.networkStatisticsEntryFile="networkStatisticsEntryFile",e.networkStatisticsEntryCall="networkStatisticsEntryCall"}(Xt||(Xt={})),function(e){e.networkTypeNone="networkTypeNone",e.networkTypeMobile="networkTypeMobile",e.networkTypeMobileRoaming="networkTypeMobileRoaming",e.networkTypeWiFi="networkTypeWiFi",e.networkTypeOther="networkTypeOther"}(en||(en={})),function(e){e.notification="notification"}(tn||(tn={})),function(e){e.notificationGroup="notificationGroup"}(nn||(nn={})),function(e){e.notificationGroupTypeMessages="notificationGroupTypeMessages",e.notificationGroupTypeMentions="notificationGroupTypeMentions",e.notificationGroupTypeSecretChat="notificationGroupTypeSecretChat",e.notificationGroupTypeCalls="notificationGroupTypeCalls"}(rn||(rn={})),function(e){e.notificationSettingsScopePrivateChats="notificationSettingsScopePrivateChats",e.notificationSettingsScopeGroupChats="notificationSettingsScopeGroupChats",e.notificationSettingsScopeChannelChats="notificationSettingsScopeChannelChats"}(on||(on={})),function(e){e.notificationTypeNewMessage="notificationTypeNewMessage",e.notificationTypeNewSecretChat="notificationTypeNewSecretChat",e.notificationTypeNewCall="notificationTypeNewCall",e.notificationTypeNewPushMessage="notificationTypeNewPushMessage"}(an||(an={})),function(e){e.ok="ok"}(sn||(sn={})),function(e){e.optionValueBoolean="optionValueBoolean",e.optionValueEmpty="optionValueEmpty",e.optionValueInteger="optionValueInteger",e.optionValueString="optionValueString"}(un||(un={})),function(e){e.orderInfo="orderInfo"}(cn||(cn={})),function(e){e.pageBlockTitle="pageBlockTitle",e.pageBlockSubtitle="pageBlockSubtitle",e.pageBlockAuthorDate="pageBlockAuthorDate",e.pageBlockHeader="pageBlockHeader",e.pageBlockSubheader="pageBlockSubheader",e.pageBlockKicker="pageBlockKicker",e.pageBlockParagraph="pageBlockParagraph",e.pageBlockPreformatted="pageBlockPreformatted",e.pageBlockFooter="pageBlockFooter",e.pageBlockDivider="pageBlockDivider",e.pageBlockAnchor="pageBlockAnchor",e.pageBlockList="pageBlockList",e.pageBlockBlockQuote="pageBlockBlockQuote",e.pageBlockPullQuote="pageBlockPullQuote",e.pageBlockAnimation="pageBlockAnimation",e.pageBlockAudio="pageBlockAudio",e.pageBlockPhoto="pageBlockPhoto",e.pageBlockVideo="pageBlockVideo",e.pageBlockVoiceNote="pageBlockVoiceNote",e.pageBlockCover="pageBlockCover",e.pageBlockEmbedded="pageBlockEmbedded",e.pageBlockEmbeddedPost="pageBlockEmbeddedPost",e.pageBlockCollage="pageBlockCollage",e.pageBlockSlideshow="pageBlockSlideshow",e.pageBlockChatLink="pageBlockChatLink",e.pageBlockTable="pageBlockTable",e.pageBlockDetails="pageBlockDetails",e.pageBlockRelatedArticles="pageBlockRelatedArticles",e.pageBlockMap="pageBlockMap"}(ln||(ln={})),function(e){e.pageBlockCaption="pageBlockCaption"}(pn||(pn={})),function(e){e.pageBlockHorizontalAlignmentLeft="pageBlockHorizontalAlignmentLeft",e.pageBlockHorizontalAlignmentCenter="pageBlockHorizontalAlignmentCenter",e.pageBlockHorizontalAlignmentRight="pageBlockHorizontalAlignmentRight"}(dn||(dn={})),function(e){e.pageBlockListItem="pageBlockListItem"}(hn||(hn={})),function(e){e.pageBlockRelatedArticle="pageBlockRelatedArticle"}(fn||(fn={})),function(e){e.pageBlockTableCell="pageBlockTableCell"}(gn||(gn={})),function(e){e.pageBlockVerticalAlignmentTop="pageBlockVerticalAlignmentTop",e.pageBlockVerticalAlignmentMiddle="pageBlockVerticalAlignmentMiddle",e.pageBlockVerticalAlignmentBottom="pageBlockVerticalAlignmentBottom"}(mn||(mn={})),function(e){e.passportAuthorizationForm="passportAuthorizationForm"}(yn||(yn={})),function(e){e.passportElementPersonalDetails="passportElementPersonalDetails",e.passportElementPassport="passportElementPassport",e.passportElementDriverLicense="passportElementDriverLicense",e.passportElementIdentityCard="passportElementIdentityCard",e.passportElementInternalPassport="passportElementInternalPassport",e.passportElementAddress="passportElementAddress",e.passportElementUtilityBill="passportElementUtilityBill",e.passportElementBankStatement="passportElementBankStatement",e.passportElementRentalAgreement="passportElementRentalAgreement",e.passportElementPassportRegistration="passportElementPassportRegistration",e.passportElementTemporaryRegistration="passportElementTemporaryRegistration",e.passportElementPhoneNumber="passportElementPhoneNumber",e.passportElementEmailAddress="passportElementEmailAddress"}(vn||(vn={})),function(e){e.passportElementError="passportElementError"}(bn||(bn={})),function(e){e.passportElementErrorSourceUnspecified="passportElementErrorSourceUnspecified",e.passportElementErrorSourceDataField="passportElementErrorSourceDataField",e.passportElementErrorSourceFrontSide="passportElementErrorSourceFrontSide",e.passportElementErrorSourceReverseSide="passportElementErrorSourceReverseSide",e.passportElementErrorSourceSelfie="passportElementErrorSourceSelfie",e.passportElementErrorSourceTranslationFile="passportElementErrorSourceTranslationFile",e.passportElementErrorSourceTranslationFiles="passportElementErrorSourceTranslationFiles",e.passportElementErrorSourceFile="passportElementErrorSourceFile",e.passportElementErrorSourceFiles="passportElementErrorSourceFiles"}(Sn||(Sn={})),function(e){e.passportElementTypePersonalDetails="passportElementTypePersonalDetails",e.passportElementTypePassport="passportElementTypePassport",e.passportElementTypeDriverLicense="passportElementTypeDriverLicense",e.passportElementTypeIdentityCard="passportElementTypeIdentityCard",e.passportElementTypeInternalPassport="passportElementTypeInternalPassport",e.passportElementTypeAddress="passportElementTypeAddress",e.passportElementTypeUtilityBill="passportElementTypeUtilityBill",e.passportElementTypeBankStatement="passportElementTypeBankStatement",e.passportElementTypeRentalAgreement="passportElementTypeRentalAgreement",e.passportElementTypePassportRegistration="passportElementTypePassportRegistration",e.passportElementTypeTemporaryRegistration="passportElementTypeTemporaryRegistration",e.passportElementTypePhoneNumber="passportElementTypePhoneNumber",e.passportElementTypeEmailAddress="passportElementTypeEmailAddress"}(kn||(kn={})),function(e){e.passportElements="passportElements"}(Cn||(Cn={})),function(e){e.passportElementsWithErrors="passportElementsWithErrors"}(Pn||(Pn={})),function(e){e.passportRequiredElement="passportRequiredElement"}(wn||(wn={})),function(e){e.passportSuitableElement="passportSuitableElement"}(En||(En={})),function(e){e.passwordState="passwordState"}(Mn||(Mn={})),function(e){e.paymentForm="paymentForm"}(Tn||(Tn={})),function(e){e.paymentReceipt="paymentReceipt"}(An||(An={})),function(e){e.paymentResult="paymentResult"}(xn||(xn={})),function(e){e.paymentsProviderStripe="paymentsProviderStripe"}(Rn||(Rn={})),function(e){e.personalDetails="personalDetails"}(Bn||(Bn={})),function(e){e.personalDocument="personalDocument"}(In||(In={})),function(e){e.phoneNumberAuthenticationSettings="phoneNumberAuthenticationSettings"}(Fn||(Fn={})),function(e){e.photo="photo"}(Ln||(Ln={})),function(e){e.photoSize="photoSize"}(Nn||(Nn={})),function(e){e.poll="poll"}(_n||(_n={})),function(e){e.pollOption="pollOption"}(On||(On={})),function(e){e.pollTypeRegular="pollTypeRegular",e.pollTypeQuiz="pollTypeQuiz"}(Un||(Un={})),function(e){e.profilePhoto="profilePhoto"}(Vn||(Vn={})),function(e){e.proxies="proxies"}(Dn||(Dn={})),function(e){e.proxy="proxy"}(zn||(zn={})),function(e){e.proxyTypeSocks5="proxyTypeSocks5",e.proxyTypeHttp="proxyTypeHttp",e.proxyTypeMtproto="proxyTypeMtproto"}(jn||(jn={})),function(e){e.publicChatTypeHasUsername="publicChatTypeHasUsername",e.publicChatTypeIsLocationBased="publicChatTypeIsLocationBased"}(Gn||(Gn={})),function(e){e.publicMessageLink="publicMessageLink"}(Qn||(Qn={})),function(e){e.pushMessageContentHidden="pushMessageContentHidden",e.pushMessageContentAnimation="pushMessageContentAnimation",e.pushMessageContentAudio="pushMessageContentAudio",e.pushMessageContentContact="pushMessageContentContact",e.pushMessageContentContactRegistered="pushMessageContentContactRegistered",e.pushMessageContentDocument="pushMessageContentDocument",e.pushMessageContentGame="pushMessageContentGame",e.pushMessageContentGameScore="pushMessageContentGameScore",e.pushMessageContentInvoice="pushMessageContentInvoice",e.pushMessageContentLocation="pushMessageContentLocation",e.pushMessageContentPhoto="pushMessageContentPhoto",e.pushMessageContentPoll="pushMessageContentPoll",e.pushMessageContentScreenshotTaken="pushMessageContentScreenshotTaken",e.pushMessageContentSticker="pushMessageContentSticker",e.pushMessageContentText="pushMessageContentText",e.pushMessageContentVideo="pushMessageContentVideo",e.pushMessageContentVideoNote="pushMessageContentVideoNote",e.pushMessageContentVoiceNote="pushMessageContentVoiceNote",e.pushMessageContentBasicGroupChatCreate="pushMessageContentBasicGroupChatCreate",e.pushMessageContentChatAddMembers="pushMessageContentChatAddMembers",e.pushMessageContentChatChangePhoto="pushMessageContentChatChangePhoto",e.pushMessageContentChatChangeTitle="pushMessageContentChatChangeTitle",e.pushMessageContentChatDeleteMember="pushMessageContentChatDeleteMember",e.pushMessageContentChatJoinByLink="pushMessageContentChatJoinByLink",e.pushMessageContentMessageForwards="pushMessageContentMessageForwards",e.pushMessageContentMediaAlbum="pushMessageContentMediaAlbum"}(Wn||(Wn={})),function(e){e.pushReceiverId="pushReceiverId"}(Hn||(Hn={})),function(e){e.recoveryEmailAddress="recoveryEmailAddress"}(Kn||(Kn={})),function(e){e.remoteFile="remoteFile"}(qn||(qn={})),function(e){e.replyMarkupRemoveKeyboard="replyMarkupRemoveKeyboard",e.replyMarkupForceReply="replyMarkupForceReply",e.replyMarkupShowKeyboard="replyMarkupShowKeyboard",e.replyMarkupInlineKeyboard="replyMarkupInlineKeyboard"}(Jn||(Jn={})),function(e){e.richTextPlain="richTextPlain",e.richTextBold="richTextBold",e.richTextItalic="richTextItalic",e.richTextUnderline="richTextUnderline",e.richTextStrikethrough="richTextStrikethrough",e.richTextFixed="richTextFixed",e.richTextUrl="richTextUrl",e.richTextEmailAddress="richTextEmailAddress",e.richTextSubscript="richTextSubscript",e.richTextSuperscript="richTextSuperscript",e.richTextMarked="richTextMarked",e.richTextPhoneNumber="richTextPhoneNumber",e.richTextIcon="richTextIcon",e.richTextAnchor="richTextAnchor",e.richTexts="richTexts"}(Yn||(Yn={})),function(e){e.savedCredentials="savedCredentials"}(Zn||(Zn={})),function(e){e.scopeNotificationSettings="scopeNotificationSettings"}($n||($n={})),function(e){e.searchMessagesFilterEmpty="searchMessagesFilterEmpty",e.searchMessagesFilterAnimation="searchMessagesFilterAnimation",e.searchMessagesFilterAudio="searchMessagesFilterAudio",e.searchMessagesFilterDocument="searchMessagesFilterDocument",e.searchMessagesFilterPhoto="searchMessagesFilterPhoto",e.searchMessagesFilterVideo="searchMessagesFilterVideo",e.searchMessagesFilterVoiceNote="searchMessagesFilterVoiceNote",e.searchMessagesFilterPhotoAndVideo="searchMessagesFilterPhotoAndVideo",e.searchMessagesFilterUrl="searchMessagesFilterUrl",e.searchMessagesFilterChatPhoto="searchMessagesFilterChatPhoto",e.searchMessagesFilterCall="searchMessagesFilterCall",e.searchMessagesFilterMissedCall="searchMessagesFilterMissedCall",e.searchMessagesFilterVideoNote="searchMessagesFilterVideoNote",e.searchMessagesFilterVoiceAndVideoNote="searchMessagesFilterVoiceAndVideoNote",e.searchMessagesFilterMention="searchMessagesFilterMention",e.searchMessagesFilterUnreadMention="searchMessagesFilterUnreadMention"}(Xn||(Xn={})),function(e){e.seconds="seconds"}(er||(er={})),function(e){e.secretChat="secretChat"}(tr||(tr={})),function(e){e.secretChatStatePending="secretChatStatePending",e.secretChatStateReady="secretChatStateReady",e.secretChatStateClosed="secretChatStateClosed"}(nr||(nr={})),function(e){e.sendMessageOptions="sendMessageOptions"}(rr||(rr={})),function(e){e.session="session"}(or||(or={})),function(e){e.sessions="sessions"}(ir||(ir={})),function(e){e.shippingOption="shippingOption"}(ar||(ar={})),function(e){e.sticker="sticker"}(sr||(sr={})),function(e){e.stickerSet="stickerSet"}(ur||(ur={})),function(e){e.stickerSetInfo="stickerSetInfo"}(cr||(cr={})),function(e){e.stickerSets="stickerSets"}(lr||(lr={})),function(e){e.stickers="stickers"}(pr||(pr={})),function(e){e.storageStatistics="storageStatistics"}(dr||(dr={})),function(e){e.storageStatisticsByChat="storageStatisticsByChat"}(hr||(hr={})),function(e){e.storageStatisticsByFileType="storageStatisticsByFileType"}(fr||(fr={})),function(e){e.storageStatisticsFast="storageStatisticsFast"}(gr||(gr={})),function(e){e.supergroup="supergroup"}(mr||(mr={})),function(e){e.supergroupFullInfo="supergroupFullInfo"}(yr||(yr={})),function(e){e.supergroupMembersFilterRecent="supergroupMembersFilterRecent",e.supergroupMembersFilterContacts="supergroupMembersFilterContacts",e.supergroupMembersFilterAdministrators="supergroupMembersFilterAdministrators",e.supergroupMembersFilterSearch="supergroupMembersFilterSearch",e.supergroupMembersFilterRestricted="supergroupMembersFilterRestricted",e.supergroupMembersFilterBanned="supergroupMembersFilterBanned",e.supergroupMembersFilterBots="supergroupMembersFilterBots"}(vr||(vr={})),function(e){e.tMeUrl="tMeUrl"}(br||(br={})),function(e){e.tMeUrlTypeUser="tMeUrlTypeUser",e.tMeUrlTypeSupergroup="tMeUrlTypeSupergroup",e.tMeUrlTypeChatInvite="tMeUrlTypeChatInvite",e.tMeUrlTypeStickerSet="tMeUrlTypeStickerSet"}(Sr||(Sr={})),function(e){e.tMeUrls="tMeUrls"}(kr||(kr={})),function(e){e.tdlibParameters="tdlibParameters"}(Cr||(Cr={})),function(e){e.temporaryPasswordState="temporaryPasswordState"}(Pr||(Pr={})),function(e){e.termsOfService="termsOfService"}(wr||(wr={})),function(e){e.testBytes="testBytes"}(Er||(Er={})),function(e){e.testInt="testInt"}(Mr||(Mr={})),function(e){e.testString="testString"}(Tr||(Tr={})),function(e){e.testVectorInt="testVectorInt"}(Ar||(Ar={})),function(e){e.testVectorIntObject="testVectorIntObject"}(xr||(xr={})),function(e){e.testVectorString="testVectorString"}(Rr||(Rr={})),function(e){e.testVectorStringObject="testVectorStringObject"}(Br||(Br={})),function(e){e.text="text"}(Ir||(Ir={})),function(e){e.textEntities="textEntities"}(Fr||(Fr={})),function(e){e.textEntity="textEntity"}(Lr||(Lr={})),function(e){e.textEntityTypeMention="textEntityTypeMention",e.textEntityTypeHashtag="textEntityTypeHashtag",e.textEntityTypeCashtag="textEntityTypeCashtag",e.textEntityTypeBotCommand="textEntityTypeBotCommand",e.textEntityTypeUrl="textEntityTypeUrl",e.textEntityTypeEmailAddress="textEntityTypeEmailAddress",e.textEntityTypePhoneNumber="textEntityTypePhoneNumber",e.textEntityTypeBold="textEntityTypeBold",e.textEntityTypeItalic="textEntityTypeItalic",e.textEntityTypeUnderline="textEntityTypeUnderline",e.textEntityTypeStrikethrough="textEntityTypeStrikethrough",e.textEntityTypeCode="textEntityTypeCode",e.textEntityTypePre="textEntityTypePre",e.textEntityTypePreCode="textEntityTypePreCode",e.textEntityTypeTextUrl="textEntityTypeTextUrl",e.textEntityTypeMentionName="textEntityTypeMentionName"}(Nr||(Nr={})),function(e){e.textParseModeMarkdown="textParseModeMarkdown",e.textParseModeHTML="textParseModeHTML"}(_r||(_r={})),function(e){e.topChatCategoryUsers="topChatCategoryUsers",e.topChatCategoryBots="topChatCategoryBots",e.topChatCategoryGroups="topChatCategoryGroups",e.topChatCategoryChannels="topChatCategoryChannels",e.topChatCategoryInlineBots="topChatCategoryInlineBots",e.topChatCategoryCalls="topChatCategoryCalls",e.topChatCategoryForwardChats="topChatCategoryForwardChats"}(Or||(Or={})),function(e){e.updateAuthorizationState="updateAuthorizationState",e.updateNewMessage="updateNewMessage",e.updateMessageSendAcknowledged="updateMessageSendAcknowledged",e.updateMessageSendSucceeded="updateMessageSendSucceeded",e.updateMessageSendFailed="updateMessageSendFailed",e.updateMessageContent="updateMessageContent",e.updateMessageEdited="updateMessageEdited",e.updateMessageViews="updateMessageViews",e.updateMessageContentOpened="updateMessageContentOpened",e.updateMessageMentionRead="updateMessageMentionRead",e.updateMessageLiveLocationViewed="updateMessageLiveLocationViewed",e.updateNewChat="updateNewChat",e.updateChatChatList="updateChatChatList",e.updateChatTitle="updateChatTitle",e.updateChatPhoto="updateChatPhoto",e.updateChatPermissions="updateChatPermissions",e.updateChatLastMessage="updateChatLastMessage",e.updateChatOrder="updateChatOrder",e.updateChatIsPinned="updateChatIsPinned",e.updateChatIsMarkedAsUnread="updateChatIsMarkedAsUnread",e.updateChatIsSponsored="updateChatIsSponsored",e.updateChatHasScheduledMessages="updateChatHasScheduledMessages",e.updateChatDefaultDisableNotification="updateChatDefaultDisableNotification",e.updateChatReadInbox="updateChatReadInbox",e.updateChatReadOutbox="updateChatReadOutbox",e.updateChatUnreadMentionCount="updateChatUnreadMentionCount",e.updateChatNotificationSettings="updateChatNotificationSettings",e.updateScopeNotificationSettings="updateScopeNotificationSettings",e.updateChatActionBar="updateChatActionBar",e.updateChatPinnedMessage="updateChatPinnedMessage",e.updateChatReplyMarkup="updateChatReplyMarkup",e.updateChatDraftMessage="updateChatDraftMessage",e.updateChatOnlineMemberCount="updateChatOnlineMemberCount",e.updateNotification="updateNotification",e.updateNotificationGroup="updateNotificationGroup",e.updateActiveNotifications="updateActiveNotifications",e.updateHavePendingNotifications="updateHavePendingNotifications",e.updateDeleteMessages="updateDeleteMessages",e.updateUserChatAction="updateUserChatAction",e.updateUserStatus="updateUserStatus",e.updateUser="updateUser",e.updateBasicGroup="updateBasicGroup",e.updateSupergroup="updateSupergroup",e.updateSecretChat="updateSecretChat",e.updateUserFullInfo="updateUserFullInfo",e.updateBasicGroupFullInfo="updateBasicGroupFullInfo",e.updateSupergroupFullInfo="updateSupergroupFullInfo",e.updateServiceNotification="updateServiceNotification",e.updateFile="updateFile",e.updateFileGenerationStart="updateFileGenerationStart",e.updateFileGenerationStop="updateFileGenerationStop",e.updateCall="updateCall",e.updateUserPrivacySettingRules="updateUserPrivacySettingRules",e.updateUnreadMessageCount="updateUnreadMessageCount",e.updateUnreadChatCount="updateUnreadChatCount",e.updateOption="updateOption",e.updateInstalledStickerSets="updateInstalledStickerSets",e.updateTrendingStickerSets="updateTrendingStickerSets",e.updateRecentStickers="updateRecentStickers",e.updateFavoriteStickers="updateFavoriteStickers",e.updateSavedAnimations="updateSavedAnimations",e.updateSelectedBackground="updateSelectedBackground",e.updateLanguagePackStrings="updateLanguagePackStrings",e.updateConnectionState="updateConnectionState",e.updateTermsOfService="updateTermsOfService",e.updateUsersNearby="updateUsersNearby",e.updateNewInlineQuery="updateNewInlineQuery",e.updateNewChosenInlineResult="updateNewChosenInlineResult",e.updateNewCallbackQuery="updateNewCallbackQuery",e.updateNewInlineCallbackQuery="updateNewInlineCallbackQuery",e.updateNewShippingQuery="updateNewShippingQuery",e.updateNewPreCheckoutQuery="updateNewPreCheckoutQuery",e.updateNewCustomEvent="updateNewCustomEvent",e.updateNewCustomQuery="updateNewCustomQuery",e.updatePoll="updatePoll",e.updatePollAnswer="updatePollAnswer"}(Ur||(Ur={})),function(e){e.updates="updates"}(Vr||(Vr={})),function(e){e.user="user"}(Dr||(Dr={})),function(e){e.userFullInfo="userFullInfo"}(zr||(zr={})),function(e){e.userPrivacySettingShowStatus="userPrivacySettingShowStatus",e.userPrivacySettingShowProfilePhoto="userPrivacySettingShowProfilePhoto",e.userPrivacySettingShowLinkInForwardedMessages="userPrivacySettingShowLinkInForwardedMessages",e.userPrivacySettingShowPhoneNumber="userPrivacySettingShowPhoneNumber",e.userPrivacySettingAllowChatInvites="userPrivacySettingAllowChatInvites",e.userPrivacySettingAllowCalls="userPrivacySettingAllowCalls",e.userPrivacySettingAllowPeerToPeerCalls="userPrivacySettingAllowPeerToPeerCalls",e.userPrivacySettingAllowFindingByPhoneNumber="userPrivacySettingAllowFindingByPhoneNumber"}(jr||(jr={})),function(e){e.userPrivacySettingRuleAllowAll="userPrivacySettingRuleAllowAll",e.userPrivacySettingRuleAllowContacts="userPrivacySettingRuleAllowContacts",e.userPrivacySettingRuleAllowUsers="userPrivacySettingRuleAllowUsers",e.userPrivacySettingRuleAllowChatMembers="userPrivacySettingRuleAllowChatMembers",e.userPrivacySettingRuleRestrictAll="userPrivacySettingRuleRestrictAll",e.userPrivacySettingRuleRestrictContacts="userPrivacySettingRuleRestrictContacts",e.userPrivacySettingRuleRestrictUsers="userPrivacySettingRuleRestrictUsers",e.userPrivacySettingRuleRestrictChatMembers="userPrivacySettingRuleRestrictChatMembers"}(Gr||(Gr={})),function(e){e.userPrivacySettingRules="userPrivacySettingRules"}(Qr||(Qr={})),function(e){e.userProfilePhoto="userProfilePhoto"}(Wr||(Wr={})),function(e){e.userProfilePhotos="userProfilePhotos"}(Hr||(Hr={})),function(e){e.userStatusEmpty="userStatusEmpty",e.userStatusOnline="userStatusOnline",e.userStatusOffline="userStatusOffline",e.userStatusRecently="userStatusRecently",e.userStatusLastWeek="userStatusLastWeek",e.userStatusLastMonth="userStatusLastMonth"}(Kr||(Kr={})),function(e){e.userTypeRegular="userTypeRegular",e.userTypeDeleted="userTypeDeleted",e.userTypeBot="userTypeBot",e.userTypeUnknown="userTypeUnknown"}(qr||(qr={})),function(e){e.users="users"}(Jr||(Jr={})),function(e){e.validatedOrderInfo="validatedOrderInfo"}(Yr||(Yr={})),function(e){e.venue="venue"}(Zr||(Zr={})),function(e){e.video="video"}($r||($r={})),function(e){e.videoNote="videoNote"}(Xr||(Xr={})),function(e){e.voiceNote="voiceNote"}(eo||(eo={})),function(e){e.webPage="webPage"}(to||(to={})),function(e){e.webPageInstantView="webPageInstantView"}(no||(no={}));var fo=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}u((r=r.apply(e,t||[])).next())})},go=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},mo=["checkAuthenticationBotToken","checkAuthenticationCode","checkAuthenticationPassword","checkDatabaseEncryptionKey","getAuthorizationState","registerUser","requestAuthenticationPasswordRecovery","resendAuthenticationCode","setAuthenticationPhoneNumber","setOption","setTdlibParameters"],yo=function(){function e(e){this.maxAttempts=3,this.answers={},this.attempt=0,this.authState=null,this.config={},this.deferred=null,this.invalidPhoneNumbers=new Set,this.config=e}return Object.defineProperty(e.prototype,"isAuthorized",{get:function(){return!(!this.authState||this.authState._!==V.authorizationStateReady)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isBot",{get:function(){return"token"in this.config},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"airgram",{get:function(){if(!this._airgram)throw new Error("Airgram has not been initialized yet.");return this._airgram},enumerable:!0,configurable:!0}),e.prototype.middleware=function(){var e=this;return f.compose([function(t,n){return e._airgram||(e._airgram=t.airgram),n()},f.filter(function(t){return!("update"in t&&t.update&&t.update._===Ur.updateAuthorizationState&&e.handleUpdateState(t.update))}),f.optional(function(t){return!e.isAuthorized&&!mo.includes(t._)&&!ho.includes(t._)},function(t,n){return e.login().then(n)})])},e.prototype.ask=function(e){return fo(this,void 0,void 0,function(){return go(this,function(t){if(!(e in this.config&&this.config[e]))throw new Error('The "'+e+'" option does not specified.');return"function"==typeof this.config[e]?[2,this.config[e]()]:[2,this.config[e]]})})},e.prototype.askPhoneNumber=function(){return fo(this,void 0,void 0,function(){var e=this;return go(this,function(t){return[2,this.ask("phoneNumber").then(function(t){return fo(e,void 0,void 0,function(){return go(this,function(e){if(!t)throw new Error("Phone number is not defined");if(this.invalidPhoneNumbers.has(t)||!/^\+?\d{10,}$/.test(t.trim()))throw this.invalidPhoneNumbers.add(t),delete this.answers.phoneNumber,new Error("Invalid phone number");return[2,t]})})})]})})},e.prototype.checkAuthenticationPassword=function(){return fo(this,void 0,void 0,function(){var e,t,n;return go(this,function(r){switch(r.label){case 0:return t=(e=this.airgram.api).checkAuthenticationPassword,n={},[4,this.ask("password")];case 1:return[2,t.apply(e,[(n.password=r.sent(),n)])]}})})},e.prototype.fatalError=function(e){return fo(this,void 0,void 0,function(){return go(this,function(t){switch(t.label){case 0:return console.error('[Airgram Auth] quit due an error: "'+e.message+'"'),this.airgram.provider instanceof y?[4,this.airgram.provider.destroy()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2,!1]}})})},e.prototype.handleError=function(e){return fo(this,void 0,void 0,function(){var t,n=this;return go(this,function(r){if(t=null,429===e.code)return[2,this.fatalError(new Error(e.message))];switch(e.message){case"PHONE_NUMBER_INVALID":this.answers.phoneNumber&&(this.invalidPhoneNumbers.add(this.answers.phoneNumber),delete this.answers.phoneNumber),t=this.askPhoneNumber().then(function(e){return n.airgram.api.setAuthenticationPhoneNumber({phoneNumber:e})});break;case"PHONE_CODE_EMPTY":case"PHONE_CODE_EXPIRED":case"PHONE_CODE_INVALID":if(!(this.attempt<this.maxAttempts))return[2,this.fatalError(new Error("Exceeded the limit of failed attempts"))];this.attempt+=1,t=this.sendCode();break;case"PASSWORD_HASH_INVALID":if(!(this.attempt<this.maxAttempts))return[2,this.fatalError(new Error("Exceeded the limit of failed attempts"))];this.attempt+=1,t=this.checkAuthenticationPassword();break;default:return[2,!1]}return[2,!t||t.then(function(e){var t=e.response;return!b(t)||(n.handleError(t),!1)}).catch(function(e){return n.fatalError(e)})]})})},e.prototype.handleUpdateState=function(e){var t=e.authorizationState;return fo(this,void 0,void 0,function(){var e,n,r=this;return go(this,function(o){switch(o.label){case 0:switch(this.attempt=0,this.authState=t,e=null,t._){case V.authorizationStateWaitPhoneNumber:return[3,1];case V.authorizationStateWaitCode:return[3,5];case V.authorizationStateWaitRegistration:return[3,6];case V.authorizationStateWaitPassword:return[3,7];case V.authorizationStateReady:return[3,8]}return[3,11];case 1:return this.isBot?[4,this.ask("token")]:[3,3];case 2:return n=o.sent(),e=this.airgram.api.checkAuthenticationBotToken({token:n}),[3,4];case 3:e=this.askPhoneNumber().then(function(e){return r.airgram.api.setAuthenticationPhoneNumber({phoneNumber:e})}),o.label=4;case 4:return[3,12];case 5:return e=this.sendCode(),[3,12];case 6:return e=this.registerUser(),[3,12];case 7:return e=this.checkAuthenticationPassword(),[3,12];case 8:return this.deferred?[4,this.deferred.resolve()]:[3,10];case 9:o.sent(),this.deferred=null,o.label=10;case 10:return[3,12];case 11:return[2,!1];case 12:return[2,!e||e.then(function(e){var t=e.response;return!b(t)||(r.handleError(t),!1)}).catch(function(e){return r.fatalError(e)})]}})})},e.prototype.login=function(){return fo(this,void 0,void 0,function(){var e,t;return go(this,function(n){switch(n.label){case 0:return this.deferred?[3,2]:((e={}).promise=new Promise(function(t,n){e.resolve=t,e.reject=n}),this.deferred=e,this.authState?[3,2]:[4,this.airgram.api.getAuthorizationState()]);case 1:t=n.sent().response,this.authState=t||null,n.label=2;case 2:return[2,Promise.resolve(this.deferred?this.deferred.promise:void 0)]}})})},e.prototype.registerUser=function(){return fo(this,void 0,void 0,function(){var e,t,n,r;return go(this,function(o){switch(o.label){case 0:return[4,this.ask("firstName")];case 1:if(!(e=o.sent()))throw new Error("First name can not be empty.");return n=(t=this.airgram.api).registerUser,r={firstName:e},[4,this.ask("lastName")];case 2:return[2,n.apply(t,[(r.lastName=o.sent()||void 0,r)])]}})})},e.prototype.sendCode=function(){return fo(this,void 0,void 0,function(){var e;return go(this,function(t){switch(t.label){case 0:return[4,this.ask("code")];case 1:if(!(e=t.sent())||!/^\d+$/.test(e))throw new Error("Invalid authorization code");return[2,this.airgram.api.checkAuthenticationCode({code:e})]}})})},e}(),vo=273729,bo="0f7a4f1ed6c06469bf0ecf70ce92b49d",So="info",ko=2,Co=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}u((r=r.apply(e,t||[])).next())})},Po=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};(new(function(){function e(){var e=this;this.getChatMembers=function(t){var n=t.target.getAttribute("chatid");console.log(n);for(var r=t.target.getAttribute("membercount"),o=0;o<r;o+=200)console.log(o),e.airgram.api.getSupergroupMembers({supergroupId:n,limit:200,offset:o}).then(S).then(function(t){return Co(e,void 0,void 0,function(){var e,r,o=this;return Po(this,function(i){return(e=document.createElement("ul")).classList.add("list-group","list-group-horizontal"),e.setAttribute("id","members-"+n),console.log(t.members),t.members.forEach(function(t){return Co(o,void 0,void 0,function(){var n,r,o,i;return Po(this,function(a){switch(a.label){case 0:(n=document.createElement("li")).classList.add("list-group-item","list-group-item-action"),n.onclick=this.memberSelect,a.label=1;case 1:return a.trys.push([1,3,,4]),o=S,[4,this.airgram.api.getUser({userId:t.userId})];case 2:return r=o.apply(void 0,[a.sent()]),n.innerText=r.username||r.id,[3,4];case 3:return i=a.sent(),console.log(i),[3,4];case 4:return n.setAttribute("id",t.userId),e.appendChild(n),[2]}})})}),null===(r=document.getElementById("members"))||void 0===r||r.prepend(e),[2]})})}).catch(function(e){console.error(e.message)})},this.getBasicGroup=function(t){var n=t.target.getAttribute("chatid");e.airgram.api.getBasicGroupFullInfo({basicGroupId:n}).then(S).then(function(t){return Co(e,void 0,void 0,function(){var e,r,o=this;return Po(this,function(i){return(e=document.createElement("ul")).classList.add("list-group","list-group-horizontal"),e.setAttribute("id","members-"+n),t.members.forEach(function(t){return Co(o,void 0,void 0,function(){var n,r,o,i;return Po(this,function(a){switch(a.label){case 0:(n=document.createElement("li")).onclick=this.memberSelect,n.classList.add("list-group-item","list-group-item-action"),a.label=1;case 1:return a.trys.push([1,3,,4]),o=S,[4,this.airgram.api.getUser({userId:t.userId})];case 2:return r=o.apply(void 0,[a.sent()]),n.innerText=r.username||r.id,[3,4];case 3:return i=a.sent(),console.log(i),[3,4];case 4:return n.setAttribute("id",t.userId),e.appendChild(n),[2]}})})}),null===(r=document.getElementById("members"))||void 0===r||r.prepend(e),[2]})})}).catch(function(e){console.error(e.message)})},this.memberSelect=function(e){var t=e.target;t.classList.contains("active")?t.classList.remove("active"):t.classList.add("active")},this.invite=function(t){var n=t.target,r=t.target.getAttribute("id");document.querySelectorAll("#members .active").forEach(function(t){return Co(e,void 0,void 0,function(){var e,n;return Po(this,function(o){return(e=document.createElement("span")).classList.add("badge","badge-primary","badge-pill"),t.classList.remove("active"),n=t.getAttribute("id"),console.log("toChatId:",r),console.log("memberChatId:",n),this.airgram.api.addChatMember({chatId:r,userId:n,forwardLimit:100}).then(S).then(function(n){console.log(n),t.classList.add("bg-success"),e.innerText=n._,t.appendChild(e)}).catch(function(n){t.classList.add("bg-danger"),e.innerText=n.message,t.appendChild(e),console.error(n)}),[2]})})}),console.log(n,r)},this.phoneNumber=window.prompt("Please enter your phone number:"),this.airgram=new po({apiId:vo,apiHash:bo,jsLogVerbosityLevel:So,logVerbosityLevel:ko,instanceName:this.phoneNumber}),this.airgram.use(new yo({code:function(){return window.prompt("Please enter the secret code:")||""},phoneNumber:function(){return e.phoneNumber||""},password:function(){return window.prompt("Please enter your password:")||""}}))}return e.prototype.getChats=function(){return Co(this,void 0,void 0,function(){var e,t,n=this;return Po(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.airgram.api.getChats({limit:100,offsetChatId:0,offsetOrder:"9223372036854775807"})];case 1:return"error"==(e=r.sent()).response._?[2,Promise.reject(e.response.message)]:(e.response.chatIds.forEach(function(e){return Co(n,void 0,void 0,function(){var t,n,r,o,i,a;return Po(this,function(s){switch(s.label){case 0:return t=document.createElement("li"),n=document.getElementById("chats"),r=document.getElementById("inviteTo"),null===(a=n)||void 0===a||a.classList.add("list-group"),[4,this.airgram.api.getChat({chatId:e})];case 1:switch(o=S(o=s.sent()),console.log(o),o.type._!==Ae.chatTypeSupergroup&&o.type._!==Ae.chatTypeBasicGroup||(t.innerText=o.title,t.setAttribute("chatid",o.type.supergroupId||o.type.basicGroupId),t.setAttribute("id",o.id),t.classList.add("list-group-item","list-group-item-action"),null!=n&&n.appendChild(t),(i=t.cloneNode(!0)).onclick=this.invite,null!=r&&r.appendChild(i)),o.type._){case Ae.chatTypeSupergroup:t.onclick=this.getChatMembers,this.airgram.api.getSupergroup({supergroupId:t.getAttribute("chatid")}).then(S).then(function(e){var n=document.createElement("span");n.classList.add("badge","badge-primary","badge-pill"),n.innerText=e.memberCount,t.setAttribute("memberCount",e.memberCount),t.append(n)}).catch(function(e){console.log(e)});break;case Ae.chatTypeBasicGroup:t.onclick=this.getBasicGroup,this.airgram.api.getBasicGroup({basicGroupId:t.getAttribute("chatid")}).then(S).then(function(e){var n=document.createElement("span");n.classList.add("badge","badge-primary","badge-pill"),n.innerText=e.memberCount,t.setAttribute("memberCount",e.memberCount),t.append(n)}).catch(function(e){console.log(e)})}return[2]}})})}),[2,Promise.resolve("chats ok")]);case 2:return t=r.sent(),console.log("chats error:",t),[2,Promise.reject("chats error")];case 3:return[2]}})})},e}())).getChats()}]);